<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="description" content="Перевод RFC 4512 на русский язык" />
<meta name="keywords" content="RFC,4512,objectClass,attribute,syntax,matchingRule,extensibleMatch,alias,root DSE,DSA,DIT,атрибут,операционный атрибут,правило соответсвия,запись-псевдоним" />
<link rel="stylesheet" href="/pro-ldap.css" type="text/css">
<title>RFC 4512</title>
<script src="/pro-ldap.js"></script>
</head>
<p class="desc">Перевод выполнен участниками проекта <a href="http://pro-ldap.ru">Pro-LDAP.ru</a>. Предложения по улучшению перевода и сообщения об ошибках принимаются на <a href="http://pro-ldap.ru/forum/index.php?topic=40.0">форуме проекта</a>.</p>

<pre>Network Working Group
<strong>Request for Comments: <a href="https://tools.ietf.org/html/rfc4512" title="Исходный текст (англ.)">4512</a></strong>
Категория: Standards Track
K. Zeilenga, OpenLDAP Foundation
Июнь 2006 года
Отменяет: <a href="http://tools.ietf.org/html/rfc2251">RFC 2251</a>, <a href="http://tools.ietf.org/html/rfc2252">RFC 2252</a>, <a href="http://tools.ietf.org/html/rfc2256">RFC 2256</a>, <a href="http://tools.ietf.org/html/rfc3674">RFC 3674</a>
</pre>

<h1>Lightweight Directory Access Protocol (LDAP): Информационные модели каталога</h1>

<h3>Статус документа</h3>

<p>Этот документ определяет проект стандарта протокола Интернет для сообщества Интернет, а также приглашает к обсуждению и подаче предложений по его усовершенствованию. Пожалуйста, сверяйтесь с текущей редакцией "Официальных стандартов протоколов Интернет" (STD 1), чтобы узнать состояние стандартизации и статус этого протокола. Ограничений на распространение данного документа не накладывается.</p>

<h3>Уведомление об авторских правах</h3>

<p>Copyright (C) Internet Society (2006).</p>

<h3>Тезисы</h3>

<p>Облегчённый протокол доступа к службам каталогов (Lightweight Directory Access Protocol, LDAP)&thinsp;&mdash;&thinsp;это Интернет-протокол для доступа к распределённым службам каталогов, функционирующим в соответствии с моделями данных и сервисов X.500. В этом документе описываются информационные модели каталога X.500, используемые в LDAP.</p>

<h3>Содержание</h3>
<div class="contents">
<ul>
<li>1. <a href="#section-1">Введение</a>
    <ul>
      <li>1.1. <a href="#section-1.1">Взаимосвязь с другими спецификациями LDAP</a></li>
      <li>1.2. <a href="#section-1.2">Взаимосвязь с X.501</a></li>
      <li>1.3. <a href="#section-1.3">Соглашения</a></li>
      <li>1.4. <a href="#section-1.4">Общие конструкции ABNF</a></li>
    </ul>
</li>
<li>2. <a href="#section-2">Модель пользовательской информации каталога</a>
    <ul>
      <li>2.1. <a href="#section-2.1">Информационное дерево каталога (DIT)</a></li>
      <li>2.2. <a href="#section-2.2">Структура записи</a></li>
      <li>2.3. <a href="#section-2.3">Именование записей</a></li>
      <li>2.4. <a href="#section-2.4">Объектные классы</a></li>
      <li>2.5. <a href="#section-2.5">Описания атрибутов</a></li>
      <li>2.6. <a href="#section-2.6">Записи-псевдонимы (Alias Entries)</a></li>
    </ul>
</li>
<li>3. <a href="#section-3">Административная и операционная информация каталога</a>
    <ul>
      <li>3.1. <a href="#section-3.1">Поддеревья (Subtrees)</a></li>
      <li>3.2. <a href="#section-3.2">Подзаписи (Subentries)</a></li>
      <li>3.3. <a href="#section-3.3">Атрибут 'objectClass'</a></li>
      <li>3.4. <a href="#section-3.4">Операционные атрибуты</a></li>
    </ul>
</li>
<li>4. <a href="#section-4">Схема данных каталога (Directory Schema)</a>
    <ul>
      <li>4.1. <a href="#section-4.1">Определения схемы данных</a></li>
      <li>4.2. <a href="#section-4.2">Подзаписи подсхемы (Subschema Subentries)</a></li>
      <li>4.3. <a href="#section-4.3">Объектный класс 'extensibleObject'</a></li>
      <li>4.4. <a href="#section-4.4">Изучение подсхемы</a></li>
    </ul>
</li>
<li>5. <a href="#section-5">Информационная модель DSA (сервера)</a>
    <ul>
      <li>5.1. <a href="#section-5.1">Требования к специфичной для сервера информации</a></li>
    </ul>
</li>
<li>6. <a href="#section-6">Прочие соображения</a>
    <ul>
      <li>6.1. <a href="#section-6.1">Сохранность в неизменном виде пользовательской информации</a></li>
      <li>6.2. <a href="#section-6.2">Короткие имена</a></li>
      <li>6.3. <a href="#section-6.3">Кэши и теневые копии</a></li>
    </ul>
</li>
<li>7. <a href="#section-7">Рекомендации для реализаций</a>
    <ul>
      <li>7.1. <a href="#section-7.1">Рекомендации для серверов</a></li>
      <li>7.2. <a href="#section-7.2">Рекомендации для клиентов</a></li>
    </ul>
</li>
<li>8. <a href="#section-8">О безопасности</a></li>
<li>9. <a href="#section-9">Регистрация в IANA</a></li>
<li>10. <a href="#section-10">Благодарности</a></li>
<li>11. <a href="#section-11">Нормативные документы</a></li>
<li>Приложение A. <a href="#appendix-A">Изменения</a>
    <ul>
      <li>A.1. <a href="#appendix-A.1">Изменения, внесённые в RFC 2251</a></li>
      <li>A.2. <a href="#appendix-A.2">Изменения, внесённые в RFC 2252</a></li>
      <li>A.3. <a href="#appendix-A.3">Изменения, внесённые в RFC 2256</a></li>
      <li>A.3. <a href="#appendix-A.3">Изменения, внесённые в RFC 3674</a></li>
    </ul>
</li>
</ul>
</div>

<h2><a name="section-1">1</a>. Введение</h2>

<p>В этом документе обсуждаются информационные модели каталога X.500 [<a href="#ref-X.501" title="The Directory: Models">X.501</a>], используемые протоколом Lightweight Directory Access Protocol (LDAP) [<a href="rfc4510.html" title="LDAP: Путеводитель по технической спецификацииp">RFC4510</a>].</p>

<p>Каталог&thinsp;&mdash;&thinsp;это "ряд открытых систем, взаимодействующих друг с другом для предоставления сервисов каталога" [<a href="#ref-X.500" title="The Directory: Overview of concepts, models and services,">X.500</a>]. Содержащаяся в каталоге информация собирательно называется информационной базой каталога (Directory Information Base, DIB). Пользователь каталога, человек или другая сущность, получает доступ к каталогу посредством клиента (или пользовательского агента каталога (Directory User Agent, DUA)). Клиент от имени пользователя взаимодействует с одним или несколькими серверами (или системными агентами каталога (Directory System Agents, DSA)). На сервере хранится фрагмент DIB.</p>

<p>DIB содержит два класса информации:</p>
<ol>
<li>пользовательская информация (то есть информация, предоставляемая и администрируемая пользователями). В <a href="#section-2">разделе 2</a> описывается модель пользовательской информации каталога.</li>
<li>административная и операционная информация (то есть информация, используемая для администрирования и работы самого каталога). В <a href="#section-3">разделе 3</a>  описывается модель административной и операционной информации каталога.</li>
</ol>

<p>Эти две модели, называемые обобщёнными информационными моделями каталога, описывают то, как информация представлена в каталоге. Эти обобщённые модели служат основой для других информационных моделей. В <a href="#section-4">разделе 4</a> обсуждается информационная модель подсхемы (subschema) и исследование подсхемы. В <a href="#section-5">разделе 5</a> обсуждается информационная модель DSA (сервера).</p>

<p>Другие информационные модели X.500 (такие как информационные модели знаний о распределении контроля доступа и знаний о репликации) могут быть адаптированы для использования в LDAP. Спецификация того, как такие модели будут применяться в LDAP, оставлена как предмет будущих документов.</p>

<h3><a name="section-1.1">1.1</a>. Взаимосвязь с другими спецификациями LDAP</h3>

<p>Этот документ является неотъемлемой частью технической спецификации LDAP [<a href="rfc4510.html" title="LDAP: Путеводитель по технической спецификации">RFC4510</a>], полностью отменяющей определённую ранее техническую спецификацию LDAP, <a href="http://tools.ietf.org/html/rfc3377">RFC 3377</a>.</p>

<p>Этот документ отменяет разделы <a href="http://tools.ietf.org/html/rfc2251#section-3.2">3.2</a> и <a href="http://tools.ietf.org/html/rfc2251#section-3.4">3.4</a>, а также части разделов <a href="http://tools.ietf.org/html/rfc2251#section-4">4</a> и <a href="http://tools.ietf.org/html/rfc2251#section-6">6</a> <a href="http://tools.ietf.org/html/rfc2251">RFC 2251</a>. Изменения этих разделов обобщены в <a href="#appendix-A.1">приложении A.1</a>. Остальные части <a href="http://tools.ietf.org/html/rfc2251">RFC 2251</a> отменяются документами [<a href="rfc4511.html" title="LDAP: Определение протокола">RFC4511</a>], [<a href="rfc4513.html" title="LDAP: Методы аутентификации и механизмы обеспечения безопасностиs">RFC4513</a>] и [<a href="rfc4510.html" title="LDAP: Путеводитель по технической спецификации">RFC4510</a>].</p>

<p>Этот документ отменяет разделы <a href="http://tools.ietf.org/html/rfc2252#section-4">4</a>, <a href="http://tools.ietf.org/html/rfc2252#section-5">5</a> и <a href="http://tools.ietf.org/html/rfc2252#section-7">7</a> <a href="http://tools.ietf.org/html/rfc2252">RFC 2252</a>. Изменения этих разделов обобщены в <a href="#appendix-A.2">приложении A.2</a>. Остальные части <a href="http://tools.ietf.org/html/rfc2252">RFC 2252</a> отменяются документом [<a href="rfc4517.html" title="LDAP: Синтаксисы и правила соответствия">RFC4517</a>].</p>

<p>Этот документ отменяет разделы <a href="http://tools.ietf.org/html/rfc2256#section-5.1">5.1</a>, <a href="http://tools.ietf.org/html/rfc2256#section-5.2">5.2</a>, <a href="http://tools.ietf.org/html/rfc2256#section-7.1">7.1</a> и <a href="http://tools.ietf.org/html/rfc2256#section-7.2">7.2</a> <a href="http://tools.ietf.org/html/rfc2256">RFC 2256</a>. Изменения этих разделов обобщены в <a href="#appendix-A.3">приложении A.3</a>. Остальные части <a href="http://tools.ietf.org/html/rfc2256">RFC 2256</a> отменяются документами [<a href="rfc4519.html" title="LDAP: Схема данных для пользовательских приложений">RFC4519</a>] и [<a href="rfc4517.html" title="LDAP: Синтаксисы и правила соответствия">RFC4517</a>].</p>

<p>Этот документ полностью отменяет <a href="http://tools.ietf.org/html/rfc3674">RFC 3674</a>. Изменения этого RFC обобщены в <a href="#appendix-A.4">приложении A.4</a>.</p>

<h3><a name="section-1.2">1.2</a>. Взаимосвязь с X.501</h3>

<p>В этот документ включены материалы из стандарта [<a href="#ref-X.501" title="The Directory: Models">X.501</a>], как адаптированные по мере необходимости для описания данного протокола, так и неадаптированные. Произведённые адаптации (и любые другие различия в описании) применяются к данному протоколу и только к нему.</p>

<h3><a name="section-1.3">1.3</a>. Соглашения</h3>

<p>Ключевые слова "MUST" (необходимо), "MUST NOT" (недопустимо), "REQUIRED" (требуется), "SHALL" (нужно), "SHALL NOT" (не нужно), "SHOULD" (следует), "SHOULD NOT" (не следует), "RECOMMENDED" (рекомендуется), "MAY" (возможно) и  "OPTIONAL" (необязательно) в данном документе должны интерпретироваться так, как описано в <a href="http://rfc2.ru/2119.rfc">BCP 14</a> [<a href="http://rfc2.ru/2119.rfc" title="Ключевые слова для обозначения уровня требований в RFC">RFC2119</a>]
</p>

<p>Определения схемы данных даются с использованием форматов описания LDAP (как определено в <a href="#section-4.1">разделе 4.1</a>). Приводимые здесь определения отформатированы (произведено разбиение строк) с целью повышения читабельности. Спецификация правил соответствия и синтаксисов LDAP, упоминаемых в этих определениях, дана в [<a href="rfc4517.html" title="LDAP: Синтаксисы и правила соответствия">RFC4517</a>].</p>

<h3><a name="section-1.4">1.4</a>. Общие конструкции ABNF</h3>

<p>Ряд синтаксисов в этом документе описывается с использованием расширенной формы Бэкуса-Наура (ABNF) [<a href="http://tools.ietf.org/html/rfc4234" title="Augmented BNF for Syntax Specifications: ABNF">RFC4234</a>]. Эти синтаксисы (как и ряд синтаксисов, определённых в других документах) основываются на следующих общих конструкциях:</p>

<pre class="list">
      keystring = leadkeychar *keychar
      leadkeychar = ALPHA
      keychar = ALPHA / DIGIT / HYPHEN
      number  = DIGIT / ( LDIGIT 1*DIGIT )

      ALPHA   = %x41-5A / %x61-7A   ; "A"-"Z" / "a"-"z"
      DIGIT   = %x30 / LDIGIT       ; "0"-"9"
      LDIGIT  = %x31-39             ; "1"-"9"
      HEX     = DIGIT / %x41-46 / %x61-66 ; "0"-"9" / "A"-"F" / "a"-"f"

      SP      = 1*SPACE  ; one or more " "
      WSP     = 0*SPACE  ; zero or more " "

      NULL    = %x00 ; ноль (0)
      SPACE   = %x20 ; пробел (" ")
      DQUOTE  = %x22 ; двойная кавычка (""")
      SHARP   = %x23 ; знак числа (или знак решётки) ("#")
      DOLLAR  = %x24 ; знак доллара ("$")
      SQUOTE  = %x27 ; одинарная кавычка ("'")
      LPAREN  = %x28 ; левая круглая скобка ("(")
      RPAREN  = %x29 ; правая круглая скобка (")")
      PLUS    = %x2B ; знак плюса ("+")
      COMMA   = %x2C ; запятая (",")
      HYPHEN  = %x2D ; дефис ("-")
      DOT     = %x2E ; точка (".")
      SEMI    = %x3B ; запятая (";")
      LANGLE  = %x3C ; левая угловая скобка ("&lt;")
      EQUALS  = %x3D ; знак равенства ("=")
      RANGLE  = %x3E ; правая угловая скобка ("&gt;")
      ESC     = %x5C ; обратная косая черта ("\")
      USCORE  = %x5F ; знак подчёркивания ("_")
      LCURLY  = %x7B ; левая фигурная скобка "{"
      RCURLY  = %x7D ; правая фигурная скобка "}"

      ; Любой символ, закодированный UTF-8 [<a href="http://tools.ietf.org/html/rfc3629" title="UTF-8, a transformation format of ISO 10646">RFC3629</a>] Unicode [<a href="#ref-Unicode" title="The Unicode Standard, Version 3.2.0">Unicode</a>]
      UTF8    = UTF1 / UTFMB
      UTFMB   = UTF2 / UTF3 / UTF4
      UTF0    = %x80-BF
      UTF1    = %x00-7F
      UTF2    = %xC2-DF UTF0
      UTF3    = %xE0 %xA0-BF UTF0 / %xE1-EC 2(UTF0) /
                %xED %x80-9F UTF0 / %xEE-EF 2(UTF0)
      UTF4    = %xF0 %x90-BF 2(UTF0) / %xF1-F3 3(UTF0) /
                %xF4 %x80-8F 2(UTF0)

      OCTET   = %x00-FF ; Любой октет (8-битовый блок данных)
</pre>
<p>Идентификаторы объектов (Object identifiers, OIDs) [<a href="#ref-X.680" title="Abstract Syntax Notation One (ASN.1) - Specification of Basic Notation">X.680</a>] представлены в LDAP с использованием точечно-цифрового формата, соответствующего следующей конструкции ABNF:</p>
<pre class="list">
      numericoid = number 1*( DOT number )
</pre>
<p>Короткие имена, известные также как дескрипторы, используются как более читабельное представление идентификаторов объектов. Короткие имена нечувствительны к регистру символов и соответствуют следующей конструкции ABNF:</p>
<pre class="list">
      descr = keystring
</pre>
<p>Там, где может быть указан как идентификатор объекта, так и короткое имя, используется следующая конструкция:</p>
<pre class="list">
      oid = descr / numericoid
</pre>
<p>Форма &lt;descr&gt;, как правило, предпочтительнее, когда короткие имена применяются для тех идентификаторов объектов, которые идентифицируют объекты с названиями, соответствующими этому короткому имени (например, описания типов атрибутов, правил соответствия или объектных классов); форму же &lt;numericoid&gt; следует использовать, когда идентификаторы объектов могут идентифицировать несколько видов объектов или когда недоступно короткое имя (дескриптор), исключающее неоднозначность.</p>

<p>Реализациям следует (SHOULD) интерпретировать короткие имена (дескрипторы), используемые неоднозначным образом (как обсуждалось выше), как нераспознанные.</p>

<p>Короткие имена (дескрипторы) обсуждаются далее в <a href="#section-6.2">разделе 6.2</a>.</p>

<h2><a name="section-2">2</a>. Модель пользовательской информации каталога</h2>

<p>Как утверждается в стандарте [<a href="#ref-X.501" title="The Directory: Models">X.501</a>]:</p>
<blockquote>
<p>Назначение каталога&thinsp;&mdash;&thinsp;хранение и обеспечение доступа к информации об объектах, представляющих интерес в некоторой области ("мире"). Объектом может быть что угодно, поддающееся идентификации (именованию).</p>

<p>Объектный класс&thinsp;&mdash;&thinsp;это идентифицированное семейство объектов или потенциальных объектов, имеющих общие характеристики. Каждый объект принадлежит как минимум одному классу. Объектный класс может быть подклассом других объектных классов, в этом случае члены данного нижестоящего класса (подкласса) считаются также членами вышестоящих классов (суперклассов). Могут существовать подклассы подклассов и т.д., глубина вложенности не ограничена.</p>
</blockquote>
<p>Запись каталога,&thinsp;&mdash;&thinsp;именованная коллекция информации,&thinsp;&mdash;&thinsp;это базовая единица хранимой в каталоге информации. Существует несколько типов записей каталога.</p>

<p>Запись-объект представляет собой конкретный объект. Запись-псевдоним предоставляет альтернативное именование объекта. Подзапись (subentry) содержит административную и/или операционную информацию.</p>

<p>Представляющий DIB набор записей иерархически организован в виде древовидной структуры, называемой информационным деревом каталога (Directory Information Tree, DIT).</p>

<p>В <a href="#section-2.1">разделе 2.1</a> описывается информационное дерево каталога.</p>
<p>В <a href="#section-2.2">разделе 2.2</a> обсуждается структура записей.</p>
<p>В <a href="#section-2.3">разделе 2.3</a> обсуждается именование записей.</p>
<p>В <a href="#section-2.4">разделе 2.4</a> обсуждаются объектные классы.</p>
<p>В <a href="#section-2.5">разделе 2.5</a> обсуждаются описания атрибутов.</p>
<p>В <a href="#section-2.6">разделе 2.6</a> обсуждаются записи-псевдонимы.</p>

<h3><a name="section-2.1">2.1</a>. Информационное дерево каталога (DIT)</h3>

<p>Как отмечалось выше, DIB состоит из набора записей, иерархически организованных в виде древовидной структуры, называемой информационным деревом каталога (Directory Information Tree, DIT); конкретнее, в виде дерева, вершинами которого являются записи.</p>

<p>Соединения между вершинами определяют отношения между записями. Если существует соединение от X к Y, то запись в вершине X является непосредственно вышестоящей (superior) записью по отношению к записи в вершине Y, а Y&thinsp;&mdash;&thinsp;непосредственно нижестоящей (subordinate) по отношению к X. Вышестоящими по отношению к какой-либо записи являются запись, непосредственно вышестоящая исходной записи, и вышестоящие по отношению к ней. Нижестоящими по отношению к какой-либо записи являются все записи, непосредственно нижестоящие по отношению к исходной записи, и нижестоящие по отношению к ним.</p>

<p>Аналогичным образом, отношения вышестоящий/нижестоящий между записями объектов могут быть использованы для получения отношений между объектами, которые они представляют.  Правила структуры DIT могут быть использованы для определения взаимоотношений между объектами.</p>

<p>Примечание: Запись, непосредственно вышестоящая по отношению к какой-либо записи, также называется родительской (parent) записью по отношению к ней, а запись, непосредственно нижестоящая по отношению к какой-либо записи, также называется дочерней (child) записью по отношению к ней. Записи, у которых одна и та же родительская запись, также называются одноуровневыми (sibling) записями.</p>

<h3><a name="section-2.2">2.2</a>. Структура записи</h3>

<p>Запись состоит из набора атрибутов, содержащих информацию о том объекте, который представлен этой записью. Одни атрибуты представляют пользовательскую информацию и называются пользовательскими атрибутами. Другие атрибуты представляют операционную и/или административную информацию и называются операционными атрибутами.</p>

<p>Атрибут&thinsp;&mdash;&thinsp;это описание атрибута (тип и ноль или более опций) с одним или несколькими ассоциированными значениями. На атрибут часто указывают с помощью описания этого атрибута. Например, атрибут 'givenName'&thinsp;&mdash;&thinsp;это атрибут, состоящий из описания атрибута 'givenName' (тип атрибута 'givenName' [<a href="rfc4519.html" title="LDAP: Схема данных для пользовательских приложений">RFC4519</a>] и ноль опций) и одного или более ассоциированных значений.</p>

<p>Тип атрибута определяет, может ли атрибут иметь несколько значений, синтаксис и правила соответствия, используемые для построения и сравнения значений этого атрибута, и другие функции. Опции указывают подтипы и другие функции.</p>

<p>Значения атрибута соответствуют синтаксису, определенному типом атрибута.</p>

<p>Никакие два значения атрибута не могут быть эквивалентны. Два значения считаются эквивалентными, если и только если они будут равны по правилу соответствия equality этого типа атрибута. Либо, если тип атрибута определён без правила соответствия equality, два значения являются эквивалентными если и только если они идентичны. (Другие ограничения смотрите в <a href="#section-2.5.1">разделе 2.5.1</a>.)</p>

<p>Например, атрибут 'givenName' может иметь более одного значения, эти значения должны соответствовать синтаксису Directory String и быть нечувствительными к регистру символов. В атрибуте 'givenName' не могут одновременно содержаться значения "John" и "JOHN", поскольку они являются эквивалентными согласно правилу соответствия equality этого типа атрибута.</p>

<p>Кроме того, никакой атрибут не должен иметь значение, которое не соответствует само себе. Например, атрибут 'givenName' не может иметь в качестве значения строку, содержащую код символа замещения (REPLACEMENT CHARACTER, U+FFFD), поскольку проверка такой строки на соответствие по правилу соответствия equality этого атрибута приведёт к результату Undefined.</p>

<p>Когда атрибут используется для именования записи, одно и только одно значение этого атрибута используется для формирования относительного уникального имени (Relative Distinguished Name). Это значение называется отличительным значением.</p>

<h3><a name="section-2.3">2.3</a>. Именование записей</h3>

<h4><a name="section-2.3.1">2.3.1</a>. Относительные уникальные имена (Relative Distinguished Names)</h4>

<p>Каждая запись именуется относительно своей непосредственно вышестоящей записи. Это относительное имя, известное как относительное уникальное имя (RDN) записи [<a href="#ref-X.501" title="The Directory: Models">X.501</a>], состоит из неупорядоченного набора одного или нескольких утверждений значений атрибутов (attribute value assertions, AVA), которые, в свою очередь, состоят из описания атрибута без опций и значения атрибута. Эти AVA выбираются так, чтобы они соответствовали значениям атрибутов  записи (каждое такое значение должно быть отличительным значением).</p>

<p>Относительное уникальное имя записи должно быть уникально среди записей, являющихся непосредственно подчинёнными записи, непосредственно вышестоящей относительно целевой записи (то есть всех одноуровневых записей относительно целевой записи).</p>

<p>Примеры строкового представления RDN [<a href="rfc4514.html" title="LDAP: Строковое представление уникальных имён">RFC4514</a>]:</p>

<pre class="list">
      UID=12345
      OU=Engineering
      CN=Kurt Zeilenga+L=Redwood Shores
</pre>

<p>Последний пример демонстрирует многозначное RDN, то есть RDN, состоящее из нескольких AVA.</p>

<h4><a name="section-2.3.2">2.3.2</a>. Уникальные имена (Distinguished Names)</h4>

<p>Полностью определенное имя записи, известное как уникальное имя (DN) [<a href="#ref-X.501" title="The Directory: Models">X.501</a>], представляет собой конкатенацию RDN этой записи и DN непосредственно вышестоящей по отношению к ней записи. Уникальное имя однозначно указывает на запись в дереве. Примеры строкового представления DN [<a href=rfc4514.html" title="LDAP: Строковое представление уникальных имён">RFC4514</a>]:</p>
<pre class="list">
      UID=nobody@example.com,DC=example,DC=com
      CN=John Smith,OU=Sales,O=ACME Limited,L=Moab,ST=Utah,C=US
</pre>
<h4><a name="section-2.3.3">2.3.3</a>. Псевдонимы (Alias Names)</h4>

<p>Псевдоним&thinsp;&mdash;&thinsp;это "имя для объекта, обеспечиваемое путём использования записей-псевдонимов" [<a href="#ref-X.501" title="The Directory: Models">X.501</a>]. Записи-псевдонимы описываются в <a href="#section-2.6">разделе 2.6</a>.</p>

<h3><a name="section-2.4">2.4</a>. Объектные классы</h3>

<p>Объектный класс&thinsp;&mdash;&thinsp;это "идентифицированное семейство объектов (или возможных объектов) с некоторыми общими характеристиками" [<a href="#ref-X.501" title="The Directory: Models">X.501</a>].</p>

<p>Как определено в стандарте [<a href="#ref-X.501" title="The Directory: Models">X.501</a>]:</p>
<blockquote>
<p>Объектные классы используются в каталоге для ряда задач, в число которых входят:</p>
<ul>
<li>описание и классификация объектов и записей, соответствующих этим объектам;</li>
<li>управление работой каталога (где это уместно);</li>
<li>регулирование положения записей в DIT (в сочетании со спецификацией правил структуры DIT);</li>
<li>регулирование содержащихся в записях атрибутов (в сочетании со спецификацией правил содержимого DIT);</li>
<li>идентификация классов записей, которые должны быть ассоциированы с какой-либо специфической политикой путём применения к ним соответствующих административных полномочий.</li>
</ul>
<p>Объектный класс (подкласс) может являться производным от объектного класса (его прямой суперкласс), который, в свою очередь, может являться производным от ещё более общего объектного класса. Для структурных объектных классов этот процесс оканчивается наиболее общим объектным классом 'top' (определение смотрите в <a href="#section-2.4.1">разделе 2.4.1</a>). Упорядоченный набор суперклассов объектного класса, вплоть до самого вышестоящего по отношению к нему объектного класса, называется его цепочкой суперклассов.</p>

<p>Объектный класс может являться производным от двух или более прямых суперклассов (то есть суперклассов, не являющихся частью одной и той же цепочки суперклассов). Эта особенность создания подклассов называется множественным наследованием.</p>
</blockquote>
<p>Каждый объектный класс определяет набор атрибутов, присутствие которых в принадлежащих к этому классу записях необходимо, и набор атрибутов, присутствие которых в принадлежащих к этому классу записях допускается. Поскольку запись какого-либо класса должна соответствовать требованиям каждого класса, к которому он принадлежит, можно сказать, что объектный класс наследует наборы допустимых и необходимых атрибутов от своих суперклассов. Подкласс может определять в качестве необходимого атрибут, определённый в его суперклассе как допустимый. Если атрибут входит в оба подмножества, его присутствие необходимо.</p>

<p>Каждый объектный класс должен быть одного из трёх видов: абстрактный (Abstract), структурный (Structural) или вспомогательный (Auxiliary).</p>

<p>Каждый объектный класс идентифицируется идентификатором объекта (OID) и, опционально, одним или несколькими короткими именами (дескрипторами).</p>

<h4><a name="section-2.4.1">2.4.1</a>. Абстрактные объектные классы</h4>

<p>Абстрактный объектный класс, как следует из названия, предоставляет базовый набор характеристик, от которого могут быть унаследованы определения других объектных классов.  Запись не может принадлежать абстрактному объектному классу напрямую, она может принадлежать структурному или вспомогательному классу, унаследованному от этого абстрактного класса.</p>

<p>Абстрактные объектные классы не могут являться производными от структурных или вспомогательных объектных классов.</p>

<p>Все структурные объектные классы являются производными (напрямую или не напрямую) от абстрактного объектного класса 'top'. Вспомогательные объектные классы не обязательно являются производными от 'top'.</p>

<p>Определение объектного класса (смотрите <a href="#section-4.1.1">раздел 4.1.1</a>) для объектного класса 'top':</p>
<pre class="list">
      ( 2.5.6.0 NAME 'top' ABSTRACT MUST objectClass )
</pre>
<p>Все записи принадлежат к абстрактному объектному классу 'top'.</p>

<h4><a name="section-2.4.2">2.4.2</a>. Структурные объектные классы</h4>

<p>Как утверждается в стандарте [<a href="#ref-X.501" title="The Directory: Models">X.501</a>]:</p>
<blockquote>
<p>Объектный класс, определенный для использования в структурной спецификации DIT, называется структурным объектным классом. Структурные объектные классы используются в определении структуры имён объектов для согласующихся записей.</p>

<p>Запись-объект или запись-псевдоним характеризуется исключительно одной цепочкой суперкласса структурных объектных классов, которая имеет единственный структурный объектный класс в качестве наиболее нижестоящего объектного класса. Этот структурный объектный класс называется структурным объектным классом данной записи.</p>

<p>Структурные объектные классы соотносятся с ассоциированными записями следующим образом:</p>
<ul>
<li>запись, соответствующая структурному объектному классу, представляет объект реального мира, входящий в данных объектный класс;</li>
<li>правила структуры DIT относятся только к структурным объектным классам; структурный объектный класс записи используется для указания местоположения записи в DIT;</li>
<li>структурный объектный класс записи, наряду с соответствующим правилом содержимого DIT, используется для управления содержимым записи.</li>
</ul>
<p>Структурный объектный класс записи не должен изменяться.</p>
</blockquote>
<p>Каждый структурный объектный класс является подклассом (прямым или непрямым) абстрактного объектного класса 'top'.</p>

<p>Структурные объектные классы не могут быть подклассами вспомогательных объектных классов.</p>

<p>Каждая запись, как говорят, принадлежит к своему структурному объектному классу, а также ко всем классам в цепочке суперклассов своего структурного объектного класса.</p>

<h4><a name="section-2.4.3">2.4.3</a>. Вспомогательные объектные классы</h4>

<p>Вспомогательные объектные классы используются для расширения характеристик записей. В основном они используются для расширения наборов атрибутов, наличие которых в записи необходимо и допускается. Они могут использоваться для описания записей или классов записей.</p>

<p>Вспомогательные объектные классы не могут быть подклассами структурных объектных классов.</p>

<p>Запись может принадлежать любому подмножеству множества вспомогательных объектных классов, разрешённых правилом содержимого DIT, связанным со структурным объектным классом этой записи. Если со структурным объектным классом записи не связано никакого правила содержимого DIT, эта запись не может принадлежать к какому-либо вспомогательному объектному классу.</p>

<p>Набор вспомогательных объектных классов, к которым принадлежит запись, может со временем изменяться.</p>

<h3><a name="section-2.5">2.5</a>. Описания атрибутов</h3>

<p>Описание атрибута состоит из типа атрибута (смотрите <a href="#section-2.5.1">раздел 2.5.1</a>) и набора из нуля или более опций атрибута (смотрите <a href="#section-2.5.2">раздел 2.5.2</a>).</p>

<p>Описание атрибута представлено следующей ABNF:</p>
<pre class="list">
      attributedescription = attributetype options
      attributetype = oid
      options = *( SEMI option )
      option = 1*keychar
</pre>
<p>где &lt;attributetype&gt; идентифицирует тип атрибута и каждое &lt;option&gt; идентифицирует опцию атрибута. Обе конструкции &lt;attributetype&gt; и &lt;option&gt; нечувствительны к регистру символов. Порядок указания опций &lt;option&gt; значения не имеет. То есть, любые два описания атрибута &lt;attributedescription&gt;, состоящие из одинакового типа &lt;attributetype&gt; и одинакового набора опций &lt;option&gt;, являются эквивалентными.</p>

<p>Примеры допустимых описаний атрибутов:</p>
<pre class="list">
      2.5.4.0
      cn;lang-de;lang-en
      owner
</pre>
<p>Описание атрибута с нераспознанным типом атрибута должно трактоваться как нераспознанное. Серверам следует (SHALL) интерпретировать описание атрибута с нераспознанной опцией атрибута как нераспознанное. Клиенты могут (MAY) интерпретировать нераспознанную опцию атрибута как опцию пометки (смотрите <a href="#section-2.5.2.1">раздел 2.5.2.1</a>).</p>

<p>Все атрибуты записи должны иметь определённые (распознаваемые) описания атрибутов.</p>

<h4><a name="section-2.5.1">2.5.1</a>. Типы атрибутов</h4>

<p>Тип атрибута определяет, может ли атрибут иметь несколько значений, синтаксис и правила соответствия, используемые для построения и сравнения значений этого атрибута, и другие функции.</p>

<p>Если для типа атрибута не определено соответствие equality, то:</p>
<ul>
<li>атрибут такого типа не может использоваться для именования;</li>
<li>при добавлении атрибута (или замене всех значений) никакие два значения не могут быть эквивалентны (смотрите <a href="#section-2.2">раздел 2.2</a>);</li>
<li>индивидуальные значения многозначного атрибута нельзя добавить или удалить отдельно от других;</li>
<li>не могут выполняться операции, использующие утверждения значений атрибута (такие как соответствия в поисковых фильтрах и сравнениях) со значениями такого типа атрибута.</li>
</ul>
<p>В противном случае, для оценки утверждений значений атрибута соответствующего типа атрибута будет использоваться заданное правило соответствия equality. Заданное правило соответствия equality должно быть транзитивным и коммутативным.</p>

<p>Тип атрибута указывает, является этот атрибут пользовательским или операционным. В случае операционного атрибута, тип атрибута указывает операционное применение атрибута, а также возможно ли изменение атрибута пользователями. Операционные атрибуты обсуждаются в <a href="#section-3.4">разделе 3.4</a>.</p>

<p>Тип атрибута (подтип) может являться производным от более общего типа атрибута (его прямой супертип). На образование подтипов накладываются следующие ограничения:</p>
<ul>
<li>подтип должен иметь то же применение, что и его прямой супертип,</li>
<li>синтаксис подтипа должен быть тем же, что и у его прямого супертипа, либо усовершенствованным вариантом этого синтаксиса, и</li>
<li>подтип должен быть коллективным (collective) [<a href="http://tools.ietf.org/html/rfc3671" title="Collective Attributes in LDAP">RFC3671</a>], если его супертип является коллективным.</li>
</ul>
<p>Описание атрибута, состоящее из подтипа без указания опций, считается прямым подтипом описания атрибута, состоящего из прямого супертипа этого атрибута без указания опций.</p>

<p>Каждый тип атрибута идентифицируется идентификатором объекта (OID) и, опционально, одним или несколькими короткими именами (дескрипторами).</p>

<h4><a name="section-2.5.2">2.5.2</a>. Опции атрибута</h4>

<p>Существует несколько видов опций описания атрибута. В технической спецификации LDAP подробно описан один вид: опции пометки (tagging options).</p>

<p>Не все опции могут быть связаны с содержащимися в каталоге атрибутами. Опции пометки могут.</p>

<p>Не все опции могут использоваться в сочетании со всеми типами атрибутов. В таких случаях описание атрибута должно трактоваться как нераспознанное.</p>

<p>Описание атрибута, содержащее взаимоисключающие опции, должно трактоваться как нераспознанное. То есть, описание "cn;x-bar;x-foo", где опции "x-foo" и "x-bar" являются взаимоисключающими, должно трактоваться как нераспознанное.</p>

<p>В последующих документах могут быть определены другие виды опций. Такие документы должны детализировать как определённые в них новые виды опций соотносятся с опциями пометки. В частности, эти документы должны детализировать, могут ли новые виды опций быть связаны с содержащимися в каталоге атрибутами, как новые виды опций влияют на передачу значений атрибутов, и как новые виды опций трактуются в иерархиях описаний атрибутов.</p>

<p>Опции представляются в виде коротких, не чувствительных к регистру символов текстовых строк, соответствующих конструкции &lt;option&gt;, определённой в <a href="#section-2.5">разделе 2.5</a> этого документа.</p>

<p>Процедуры регистрации опций подробно описаны в <a href="http://tools.ietf.org/html/rfc4520">BCP 64</a> [<a href="http://tools.ietf.org/html/rfc4520" title="Соглашения IANA о LDAP">RFC4520</a>].</p>

<h5><a name="section-2.5.2.1">2.5.2.1</a>. Опции пометки (Tagging Options)</h5>

<p>Содержащиеся в каталоге атрибуты могут иметь описания атрибутов с любым количеством опций пометки. Опции пометки никогда не бывают взаимоисключающими.</p>

<p>Описание атрибута с N опциями пометки является прямым подтипом (описания) всех описаний атрибута того же типа атрибута и всех, кроме одной, из этих N опций. Если у типа атрибута есть супертип, то описание этого атрибута также является прямым подтипом (описания) описания атрибута его сурептипа и N опций пометки. То есть, описание 'cn;lang-de;lang-en' является прямым подтипом (описания) 'cn;lang-de', 'cn;lang-en' и 'name;lang-de;lang-en' (поскольку 'cn'&thinsp;&mdash;&thinsp;это подтип 'name'; оба типа атрибута определены в [<a href="rfc4519.html" title="LDAP: Схема данных для пользовательских приложений">RFC4519</a>]).</p>

<h4><a name="section-2.5.3">2.5.3</a>. Иерархии описаний атрибутов</h4>

<p>Описание атрибута может быть прямым подтипом нуля или более других описаний атрибутов по правилам образования подтипов от типов атрибутов (смотрите <a href="#section-2.5.1">раздел 2.5.1</a>), либо по правилам образования подтипов с опциями пометки (смотрите <a href="#section-2.5.2.1">раздел 2.5.2.1</a>). Эти отношения образования подтипов применяются для формирования иерархий описаний атрибутов и иерархий атрибутов.</p>

<p>Адаптированная выдержка из стандарта [<a href="#ref-X.501" title="The Directory: Models">X.501</a>]:</p>
<blockquote>
<p>Иерархия атрибутов позволяет осуществлять доступ к DIB с различной степенью детализации. Это достигается благодаря разрешению доступа к компонентам значения атрибутов путем использования либо их конкретного описания атрибута (прямая ссылка на атрибут), либо более общего описания атрибута (косвенная ссылка).</p>

<p>Семантически связанные атрибуты могут быть выстроены в иерархическую структуру, в которой более конкретные описания атрибутов располагаются как подчиненные по отношению к более общим. Поиск или считывание атрибутов и их значений облегчается при указании более общего описания атрибута; определенный таким образом элемент фильтра оценивается для
более конкретных описаний, а также для указанного описания.</p>

<p>Если в качестве результата поиска выбраны конкретные описания атрибутов, являющиеся подчиненными, должны возвращаться эти описания, если таковые имеются. Если в качестве результата поиска выбраны более общие описания атрибутов, должны возвращаться как общие, так и конкретные описания, если таковые имеются. Значение атрибута всегда должно возвращаться как значение своего собственного описания атрибута.</p>

<p>При изменении пользователем содержимого записи все описания атрибутов в иерархии атрибутов трактуются как отдельные и несвязанные описания.</p>

<p>Значение атрибута, хранящееся в записи-объекте или записи-псевдониме, имеет только одно описание атрибута. Это описание указывается при первом добавлении значения в запись.</p>
</blockquote>
<p>При администрировании подсхемы записи, спецификация того, что какой-либо атрибут является обязательным, считается выполненной, если запись содержит значение атрибута с описанием, принадлежащим иерархии атрибутов, и тип атрибута из этого описания совпадает с требуемым типом атрибута. То есть, спецификация "MUST name" считается выполненной при использовании 'name' или 'name;x-tag-option', но не считается выполненной при использовании 'CN' или 'CN;x-tag-option' (даже если 'CN' является подтипом 'name'). Также в записи разрешено иметь значение атрибута с описанием, принадлежащим иерархии атрибутов, когда тип атрибута из этого описания либо явно включен в определение объектного класса, к которому принадлежит запись, либо разрешён применимым к этой записи правилом содержимого DIT. То есть, 'name' и 'name;x-tag-option' являются разрешёнными определением "MAY name" (или "MUST name"), но 'CN' и 'CN;x-tag-option' не являются разрешёнными определением "MAY name" (или "MUST name").</p>

<p>При администрировании какой-либо другой политики, если иное не указано в спецификации конкретной административной модели, все описания атрибутов в иерархии атрибутов трактуются как отдельные и не связанные между собой описания.</p>

<h3><a name="section-2.6">2.6</a>. Записи-псевдонимы (Alias Entries)</h3>

<p>Адаптированная выдержка из стандарта [<a href="#ref-X.501" title="The Directory: Models">X.501</a>]:</p>
<blockquote>
<p>Псевдоним или имя-псевдоним объекта&thinsp;&mdash;&thinsp;это альтернативное имя для объекта или записи объекта, обеспечиваемое использованием записей-псевдонимов.</p>

<p>Каждая запись-псевдоним содержит имя некоторого объекта в атрибуте 'aliasedObjectName' (в стандарте X.500 он назывался 'aliasedEntryName'). Таким образом, уникальное имя записи-псевдонима также является именем для этого объекта.</p>
<blockquote>
<p>ПРИМЕЧАНИЕ - Считается, что псевдоним указывает на имя из атрибута 'aliasedObjectName'. Это имя не обязательно должно быть уникальным именем какой-либо записи.</p>
</blockquote>
<p>Преобразование имени псевдонима в имя объекта называется разыменованием (псевдонима) и заключается в семантической замене имен-псевдонимов, которые обнаруживаются в ходе анализа потенциального имени, на значение соответствующего атрибута 'aliasedObjectName'. Этот процесс может потребовать анализа более одной записи-псевдонима.</p>

<p>Любая конкретная запись в DIT может иметь нуль или более имен-псевдонимов. Отсюда следует, что несколько записей-псевдонимов могут указывать на одну и ту же запись. Запись-псевдоним может указывать на запись, не являющуюся конечной (листовой) записью, а также может указывать на другую запись-псевдоним.</p>

<p>У записи-псевдонима не должно быть нижестоящих записей, то есть запись-псевдоним всегда является листовой записью.</p>

<p>Каждая запись-псевдоним должна принадлежать объектному классу 'alias'.</p>
</blockquote>
<p>Запись с объектным классом 'alias' должна также принадлежать к объектному классу (или классам), либо регулироваться правилом содержимого DIT, которые позволили бы определить ей подходящие атрибуты именования.</p>

<p>Пример:</p>
<pre class="list">
      dn: cn=bar,dc=example,dc=com
      objectClass: top
      objectClass: alias
      objectClass: extensibleObject
      cn: bar
      aliasedObjectName: cn=foo,dc=example,dc=com
</pre>
<h4><a name="section-2.6.1">2.6.1</a>. Объектный класс 'alias'</h4>

<p>Записи-псевдонимы принадлежат объектному классу 'alias'.</p>
<pre class="list">
      ( 2.5.6.1 NAME 'alias'
        SUP top STRUCTURAL
        MUST aliasedObjectName )
</pre>
<h4><a name="section-2.6.2">2.6.2</a>. Тип атрибута 'aliasedObjectName'</h4>

<p>Атрибут 'aliasedObjectName' содержит имя записи, на которую указывает псевдоним. В стандарте X.500 атрибут 'aliasedObjectName' назывался 'aliasedEntryName'.</p>
<pre class="list">
      ( 2.5.4.1 NAME 'aliasedObjectName'
        EQUALITY distinguishedNameMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.12
        SINGLE-VALUE )
</pre>
<p>Правило соответствия 'distinguishedNameMatch' и синтаксис DistinguishedName (1.3.6.1.4.1.1466.115.121.1.12) определены в [<a href="rfc4517.html" title="LDAP: Синтаксисы и правила соответствия">RFC4517</a>].</p>

<h2><a name="section-3">3</a>. Административная и операционная информация каталога</h2>

<p>В этом разделе рассматриваются избранные аспекты модели административной и операционной информации каталога X.500 [<a href="#ref-X.501" title="The Directory: Models">X.501</a>]. Реализации LDAP могут (MAY) поддерживать другие аспекты этой модели.</p>

<h3><a name="section-3.1">3.1</a>. Поддеревья (Subtrees)</h3>

<p>Как определено в стандарте [<a href="#ref-X.501" title="The Directory: Models">X.501</a>]:</p>
<blockquote>
<p>Поддерево&thinsp;&mdash;&thinsp;это коллекция записей-объектов и записей-псевдонимов, расположенных в вершинах дерева. Поддеревья не содержат подзаписей. Приставка "под" в слове "поддерево" специально указывает на то, что база (или корень) вершины данного дерева, как правило, является подчиненной по отношению к корню DIT.</p>

<p>Поддерево начинается в какой-либо вершине и простирается до некоторой идентифицируемой нижней границы, и может простираться до листовых записей. Поддерево всегда определяется в контексте, который неявно указывает границы этого поддерева. Например, вершина и нижняя граница поддерева, определяющего реплицируемую область, ограничиваются контекстом именования.</p>
</blockquote>
<h3><a name="section-3.2">3.2</a>. Подзаписи (Subentries)</h3>

<p>Подзапись&thinsp;&mdash;&thinsp;это "специальный вид записи, известный каталогу, который используется для содержания информации, связанной с поддеревом или уточнением поддерева" [<a href="#ref-X.501" title="The Directory: Models">X.501</a>]. Подзаписи используются в каталоге для хранения данных в административных и операционных целях, как определено в стандарте [<a href="#ref-X.501" title="The Directory: Models">X.501</a>]. Их использование в LDAP подробно раскрыто в [<a href="http://tools.ietf.org/html/rfc3672" title="Subentries in LDAP">RFC3672</a>].</p>

<p>Термин "(под)запись" в данной спецификации указывает на то, что серверы, реализующие модели X.500(93), должны, согласно описанным в [<a href="http://tools.ietf.org/html/rfc3672" title="Subentries in LDAP">RFC3672</a>] определениям X.500(93), использовать подзаписи, а также на то, что другие серверы должны использовать записи-объекты, принадлежащие соответствующему вспомогательному классу, обычно используемому с подзаписями (например, 'subschema' для подзаписей подсхемы) для имитации подзаписей. RDN этих записей-объектов должны (SHALL) быть сформированы от значения атрибута 'cn' (commonName) [<a href="rfc4519.html" title="LDAP: Схема данных для пользовательских приложений">RFC4519</a>] (поскольку все подзаписи именуются с использованием 'cn').</p>

<h3><a name="section-3.3">3.3</a>. Атрибут 'objectClass'</h3>

<p>У каждой записи в DIT есть атрибут 'objectClass'.</p>
<pre class="list">
      ( 2.5.4.0 NAME 'objectClass'
        EQUALITY objectIdentifierMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.38 )
</pre>
<p>Правило соответствия 'objectIdentifierMatch' и синтаксис OBJECT IDENTIFIER (1.3.6.1.4.1.1466.115.121.1.38) определены в [<a href="rfc4517.html" title="LDAP: Синтаксисы и правила соответствия">RFC4517</a>].</p>

<p>Атрибут 'objectClass' определяет объектные классы записи, которые (среди прочего) используются, в сочетании с управляющей схемой данных, для определения разрешённых атрибутов записи. Значения этого атрибута могут быть модифицированы клиентами, но атрибут 'objectClass' не может быть удалён.</p>

<p>Серверы, следующие моделям X.500(93), должны (SHALL) ограничивать модификации данного атрибута для предотвращения изменения основного структурного класса записи. То есть, никто не может изменить объектный класс с 'person' на 'country'.</p>

<p>При создании записи или добавлении к записи значения атрибута 'objectClass', все суперклассы указываемых классов должны (SHALL) быть также неявно добавлены, если это ещё не было сделано. То есть, если вспомогательный класс 'x-a' является подклассом класса 'x-b', добавления значения 'x-a' к атрибуту 'objectClass' приведёт к неявному добавлению 'x-b' (если его ещё не было в записи).</p>

<p>Серверы должны (SHALL) ограничивать модификации данного атрибута для предотвращения удаления суперклассов от других значений атрибута 'objectClass'. То есть, если вспомогательный класс 'x-a' является подклассом вспомогательного класса 'x-b' и атрибут 'objectClass' содержит 'x-a' и 'x-b', то попытка удалить только 'x-b' из атрибута 'objectClass' является ошибкой.</p>

<h3><a name="section-3.4">3.4</a>. Операционные атрибуты</h3>

<p>Некоторые атрибуты, называемые операционными, используются или поддерживаются серверами для административных или операционных целей. Как заявляется в стандарте [<a href="#ref-X.501" title="The Directory: Models">X.501</a>]: "Есть три разновидности операционных атрибутов: операционные атрибуты каталога, операционные атрибуты, коллективно используемые агентами DSA (DSA-shared) и операционные атрибуты, специфичные для DSA (DSA-specific)".</p>

<p><em>Операционные атрибуты каталога</em> используются для представления операционной и/или административной информации в информационной модели каталога. Сюда входят операционные атрибуты, поддерживаемые сервером (например, 'createTimestamp'), а также операционные атрибуты, содержащие управляемые пользователем значения (например, 'ditContentRules').</p>

<p><em>Операционные атрибуты, коллективно используемые агентами DSA,</em> используются для представления общей для нескольких DSA информации информационной модели DSA.</p>

<p><em>Операционные атрибуты, специфичные для DSA,</em> используются для представления специфичной для конкретного DSA информации информационной модели DSA (тем не менее, в некоторых случаях, эта информация может быть получена из общей для нескольких DSA информации; например, 'namingContexts').</p>

<p>Операционные атрибуты информационной модели DSA подробно описаны в стандарте [<a href="#ref-X.501" title="The Directory: Models">X.501</a>].</p>

<p>Операционные атрибуты обычно невидимы. Они не возвращаются в результатах поисковых запросов, если не были явно запрошены по имени.</p>

<p>Не все операционные атрибуты доступны для модификации пользователем.</p>

<p>Среди прочих, записи могут содержать следующие операционные атрибуты:</p>
<ul>
<li>creatorsName: уникальное имя записи пользователя, добавившего данную запись в каталог,</li>
<li>createTimestamp: время, когда данная запись была добавлена в каталог,</li>
<li>modifiersName: уникальное имя записи пользователя, который произвёл последнюю модификацию данной записи, и</li>
<li>modifyTimestamp: время, когда данная запись была последний раз модифицирована.</li>
</ul>
<p>Серверам следует (SHOULD) поддерживать атрибуты 'creatorsName', 'createTimestamp', 'modifiersName' и 'modifyTimestamp' для всех записей в DIT.</p>

<h4><a name="section-3.4.1">3.4.1</a>. 'creatorsName'</h4>

<p>Этот атрибут появляется в записях, добавленных с использованием протокола (например, с использованием операции Add). Значение&thinsp;&mdash;&thinsp;уникальное имя записи создателя.</p>
<pre class="list">
      ( 2.5.18.3 NAME 'creatorsName'
        EQUALITY distinguishedNameMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.12
        SINGLE-VALUE NO-USER-MODIFICATION
        USAGE directoryOperation )
</pre>
<p>Правило соответствия 'distinguishedNameMatch' и синтаксис DistinguishedName (1.3.6.1.4.1.1466.115.121.1.12) определены в [<a href="rfc4517.html" title="LDAP: Синтаксисы и правила соответствия">RFC4517</a>].</p>

<h4><a name="section-3.4.2">3.4.2</a>. 'createTimestamp'</h4>

<p>Этот атрибут появляется в записях, добавленных с использованием протокола (например, с использованием операции Add). Значение&thinsp;&mdash;&thinsp;время создания записи.</p>
<pre class="list">
      ( 2.5.18.1 NAME 'createTimestamp'
        EQUALITY generalizedTimeMatch
        ORDERING generalizedTimeOrderingMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.24
        SINGLE-VALUE NO-USER-MODIFICATION
        USAGE directoryOperation )
</pre>
<p>Правила соответствия 'generalizedTimeMatch' и 'generalizedTimeOrderingMatch', а также синтаксис GeneralizedTime (1.3.6.1.4.1.1466.115.121.1.24) определены в [<a href="rfc4517.html" title="LDAP: Синтаксисы и правила соответствия">RFC4517</a>].</p>

<h4><a name="section-3.4.3">3.4.3</a>. 'modifiersName'</h4>

<p>Этот атрибут появляется в записях, модифицированных с использованием протокола (например, с использованием операции Modify). Значение&thinsp;&mdash;&thinsp;уникальное имя записи пользователя, производившего последнюю модификацию.</p>
<pre class="list">
      ( 2.5.18.4 NAME 'modifiersName'
        EQUALITY distinguishedNameMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.12
        SINGLE-VALUE NO-USER-MODIFICATION
        USAGE directoryOperation )
</pre>
<p>Правило соответствия 'distinguishedNameMatch' и синтаксис DistinguishedName (1.3.6.1.4.1.1466.115.121.1.12) определены в [<a href="rfc4517.html" title="LDAP: Синтаксисы и правила соответствия">RFC4517</a>].</p>

<h4><a name="section-3.4.4">3.4.4</a>. 'modifyTimestamp'</h4>

<p>Этот атрибут появляется в записях, модифицированных с использованием протокола (например, с использованием операции Modify). Значение&thinsp;&mdash;&thinsp;время последней модификации.</p>
<pre class="list">
      ( 2.5.18.2 NAME 'modifyTimestamp'
        EQUALITY generalizedTimeMatch
        ORDERING generalizedTimeOrderingMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.24
        SINGLE-VALUE NO-USER-MODIFICATION
        USAGE directoryOperation )
</pre>
<p>Правила соответствия 'generalizedTimeMatch' и 'generalizedTimeOrderingMatch', а также синтаксис GeneralizedTime (1.3.6.1.4.1.1466.115.121.1.24) определены в [<a href="rfc4517.html" title="LDAP: Синтаксисы и правила соответствия">RFC4517</a>].</p>

<h4><a name="section-3.4.5">3.4.5</a>. 'structuralObjectClass'</h4>

<p>Этот атрибут указывает структурный объектный класс записи.</p>
<pre class="list">
      ( 2.5.21.9 NAME 'structuralObjectClass'
        EQUALITY objectIdentifierMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.38
        SINGLE-VALUE NO-USER-MODIFICATION
        USAGE directoryOperation )
</pre>
<p>Правило соответствия 'objectIdentifierMatch' и синтаксис OBJECT IDENTIFIER (1.3.6.1.4.1.1466.115.121.1.38) определены в [<a href="rfc4517.html" title="LDAP: Синтаксисы и правила соответствия">RFC4517</a>].</p>

<h4><a name="section-3.4.6">3.4.6</a>. 'governingStructureRule'</h4>

<p>Этот атрибут указывает регулирующее запись правило структуры.</p>
<pre class="list">
      ( 2.5.21.10 NAME 'governingStructureRule'
        EQUALITY integerMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.27
        SINGLE-VALUE NO-USER-MODIFICATION
        USAGE directoryOperation )
</pre>
<p>Правило соответствия 'integerMatch' и синтаксис INTEGER (1.3.6.1.4.1.1466.115.121.1.27) определены в [<a href="rfc4517.html" title="LDAP: Синтаксисы и правила соответствия">RFC4517</a>].</p>

<h2><a name="section-4">4</a>. Схема данных каталога (Directory Schema)</h2>

<p>Как определено в стандарте [<a href="#ref-X.501" title="The Directory: Models">X.501</a>]:</p>
<blockquote>
<p>Схема данных каталога&thinsp;&mdash;&thinsp;это совокупность определений и ограничений, касающихся структуры DIT, возможных способов именования записей, информации, которая может содержаться в записи, атрибутов, используемых для представления этой информации, и их организации в иерархии для упрощения поиска и извлечения информации, а
также способов, по которым значения атрибутов могут быть сопоставлены в утверждениях значений атрибута и в утверждениях правил соответствия.</p>

<p>ПРИМЕЧАНИЕ 1 - Схема данных позволяет системе каталога, например:</p>
<ul>
<li>предотвращать создание подчиненных записей неверного объектного класса (например, <em>country</em> как подчиненный элемент по отношению к <em>person</em>);</li>
<li>предотвращать добавление к записи типов атрибутов, не соответствующих объектному классу (например, <em>serial number</em> к записи с объектным классом <em>person</em>);</li>
<li>предотвращать добавление значения атрибута, синтаксис которого не соответствует определенному для этого типа атрибута (например, <em>printable string</em> к <em>bit string</em>).</li>
</ul>
<p>Формально схему данных каталога образуют:</p>
<ol type="a">
<li>описания <em>форм имен</em>, которые определяют элементарные отношения именования для структурных объектных классов;</li>
<li>описания <em>правил структуры DIT</em>, определяющие имена, которые могут иметь записи, и способы, с помощью которых записи могут быть связаны друг с другом в DIT;</li>
<li>описания <em>правил содержимого DIT</em>, которые расширяют спецификацию разрешенных для включения в записи атрибутов, не являющихся атрибутами структурных объектных классов этих записей;</li>
<li>описания <em>объектных классов</em>, определяющие базовое множество обязательных и необязательных атрибутов, которые, соответственно, должны и могут присутствовать в записи данного класса, и указывающие вид определяемого объектного класса;</li>
<li>описания <em>типов атрибутов</em>, определяющие идентификатор объекта, по которому известен атрибут, его синтаксис, связанные правила соответствия, является ли этот атрибут операционным атрибутом, и, если является, то его тип, является ли этот атрибут коллективным атрибутом, разрешено ли ему иметь несколько значений, и является ли он производной другого типа атрибута;</li>
<li>описания <em>правил соответствия</em>, определяющие правила сопоставления значений атрибутов.</li>
</ol>
</blockquote>
<p>И в LDAP:</p>
<blockquote>
<ol type="a" start="7">
<li>описания <em>синтаксисов LDAP</em>, определяющие используемые в LDAP кодировки.</li>
</ol>
</blockquote>
<h3><a name="section-4.1">4.1</a>. Определения схемы данных</h3>

<p>Определения схемы данных в этом разделе описаны с использованием ABNF и основываются на общих конструкциях, определённых как в <a href="#section-1.2">разделе 1.2</a>, так и в этом разделе:</p>
<pre class="list">
      noidlen = numericoid [ LCURLY len RCURLY ]
      len = number

      oids = oid / ( LPAREN WSP oidlist WSP RPAREN )
      oidlist = oid *( WSP DOLLAR WSP oid )

      extensions = *( SP xstring SP qdstrings )
      xstring = "X" HYPHEN 1*( ALPHA / HYPHEN / USCORE )

      qdescrs = qdescr / ( LPAREN WSP qdescrlist WSP RPAREN )
      qdescrlist = [ qdescr *( SP qdescr ) ]
      qdescr = SQUOTE descr SQUOTE

      qdstrings = qdstring / ( LPAREN WSP qdstringlist WSP RPAREN )
      qdstringlist = [ qdstring *( SP qdstring ) ]
      qdstring = SQUOTE dstring SQUOTE
      dstring = 1*( QS / QQ / QUTF8 ) ; экранированная строка UTF-8

      QQ =  ESC %x32 %x37 ; "\27"
      QS =  ESC %x35 ( %x43 / %x63 ) ; "\5C" / "\5c"

      ; Любой символ Unicode, закодированный UTF-8,
      ; за исключением %x27 ("\'") и %x5C ("\")
      QUTF8    = QUTF1 / UTFMB

      ; Любой символ ASCII, за исключением %x27 ("\'") и %x5C ("\")
      QUTF1    = %x00-26 / %x28-5B / %x5D-7F
</pre>
<p>В определениях схемы данных в этом разделе также используются несколько общих именованных полей.</p>

<p>В поле NAME предоставляется набор коротких имён (дескрипторов), которые должны использоваться как псевдонимы для OID.</p>

<p>Поле DESC позволяет администратору каталога и/или тому, кто занимается реализацией, опционально предоставить строку описания. Хотя в спецификациях может предлагаться строка описания, требований о том, чтобы предлагаемая (или любая другая) строка описания использовалась, не выдвигается.</p>

<p>Поле OBSOLETE, при его наличии, указывает, что элемент является неактивным.</p>

<p>Тем, кто занимается реализацией, следует иметь ввиду, что в будущих версиях этого документа данные определения могут быть расширены за счёт включения дополнительных именованных полей. Поля, идентификаторы которых начинаются с "X-", зарезервированы для частных экспериментов, за ними должны следовать конструкции &lt;SP&gt; и &lt;qdstrings&gt;.</p>

<h4><a name="section-4.1.1">4.1.1</a>. Определение объектного класса</h4>

<p>Определения объектных классов формулируются в соответствии со следующей ABNF:</p>
<pre class="list">
     ObjectClassDescription = LPAREN WSP
         numericoid                 ; идентификатор объекта
         [ SP "NAME" SP qdescrs ]   ; короткие имена (дескрипторы)
         [ SP "DESC" SP qdstring ]  ; описание
         [ SP "OBSOLETE" ]          ; неактивен
         [ SP "SUP" SP oids ]       ; вышестоящие объектные классы
         [ SP kind ]                ; вид класса
         [ SP "MUST" SP oids ]      ; типы атрибутов
         [ SP "MAY" SP oids ]       ; типы атрибутов
         extensions WSP RPAREN

     kind = "ABSTRACT" / "STRUCTURAL" / "AUXILIARY"
</pre>
<p>здесь:</p>
<ul>
<li>&lt;numericoid&gt;&thinsp;&mdash;&thinsp;идентификатор объекта, назначенный данному объектному классу;</li>
<li>NAME &lt;qdescrs&gt;&thinsp;&mdash;&thinsp;короткие имена (дескрипторы), идентифицирующие данный объектный класс;</li>
<li>DESC &lt;qdstring&gt;&thinsp;&mdash;&thinsp;короткая строка описания;</li>
<li>OBSOLETE указывает, что данный объектный класс является неактивным;</li>
<li>SUP &lt;oids&gt; определяет прямой суперкласс данного объектного класса;</li>
<li>вид объектного класса указывается одним из трёх ключевых слов ABSTRACT, STRUCTURAL или AUXILIARY (по умолчанию&thinsp;&mdash;&thinsp;STRUCTURAL);</li>
<li>MUST и MAY определяют, соответственно, наборы требуемых и разрешённых типов атрибутов; и</li>
<li>&lt;extensions&gt; описывает расширения.</li>
</ul>
<h4><a name="section-4.1.2">4.1.2</a>. Типы атрибутов</h4>

<p>Определения типов атрибутов формулируются в соответствии со следующей ABNF:</p>
<pre class="list">
     AttributeTypeDescription = LPAREN WSP
         numericoid                    ; идентификатор объекта
         [ SP "NAME" SP qdescrs ]      ; короткие имена (дескрипторы)
         [ SP "DESC" SP qdstring ]     ; описание
         [ SP "OBSOLETE" ]             ; неактивен
         [ SP "SUP" SP oid ]           ; супертип
         [ SP "EQUALITY" SP oid ]      ; правило соответствия equality
         [ SP "ORDERING" SP oid ]      ; правило соответствия ordering
         [ SP "SUBSTR" SP oid ]        ; правило соответствия substrings
         [ SP "SYNTAX" SP noidlen ]    ; синтаксис значения
         [ SP "SINGLE-VALUE" ]         ; единственное значение
         [ SP "COLLECTIVE" ]           ; коллективный
         [ SP "NO-USER-MODIFICATION" ] ; не изменяемый пользователем
         [ SP "USAGE" SP usage ]       ; сфера применения
         extensions WSP RPAREN         ; расширения

     usage = "userApplications"     /  ; пользовательский атрибут
             "directoryOperation"   /  ; операционный атрибут каталога
             "distributedOperation" /  ; операционный атрибут DSA-shared
             "dSAOperation"            ; операционный атрибут DSA-specific
</pre>
<p>здесь:</p>
<ul>
<li>&lt;numericoid&gt;&thinsp;&mdash;&thinsp;идентификатор объекта, назначенный данному типу атрибута;</li>
<li>NAME &lt;qdescrs&gt;&thinsp;&mdash;&thinsp;короткие имена (дескрипторы), идентифицирующие данный тип атрибута;</li>
<li>DESC &lt;qdstring&gt;&thinsp;&mdash;&thinsp;короткая строка описания;</li>
<li>OBSOLETE указывает, что данный тип атрибута является неактивным;</li>
<li>SUP oid определяет прямой супертип данного типа;</li>
<li>EQUALITY, ORDERING и SUBSTR предоставляют, соответственно, oid правил соответствия equality, ordering и substrings;</li>
<li>SYNTAX идентифицирует синтаксис значения по идентификатору объекта, а также может рекомендовать минимальную верхнюю границу;</li>
<li>SINGLE-VALUE указывает на то, что атрибуты этого типа могут иметь только одно значение;</li>
<li>COLLECTIVE указывает на то, что данный тип атрибута является коллективным [<a href="#ref-X.501" title="The Directory: Models">X.501</a>][<a href="http://tools.ietf.org/html/rfc3671" title="Collective Attributes in LDAP">RFC3671</a>];</li>
<li>NO-USER-MODIFICATION указывает на то, что данный тип атрибута не может быть модифицирован пользователем;</li>
<li>USAGE указывает область применения данного типа атрибута; и</li>
<li>&lt;extensions&gt;  описывает расширения.</li>
</ul>
<p>Каждое описание типа атрибута должно содержать как минимум одно из полей SUP или SYNTAX. Если поле SYNTAX не предоставлено, описание типа атрибута принимает своё значение от супертипа.</p>

<p>Если предоставлено поле SUP, поля EQUALITY, ORDERING и SUBSTRING, если они не указаны, принимают свои значения от супертипа.</p>

<p>Сфера применения userApplications (по умолчанию) говорит о том, что атрибуты этого типа представляют пользовательскую информацию. То есть, это пользовательские атрибуты.</p>

<p>Сферы применения directoryOperation, distributedOperation или dSAOperation говорят о том, что атрибуты этого типа представляют операционную и/или административную информацию. То есть, это операционные атрибуты.</p>

<p>Сфера применения directoryOperation указывает, что атрибут этого типа является <em>операционным атрибутом каталога</em>. Сфера применения distributedOperation указывает, что атрибут этого типа является <em>операционным атрибутом, коллективно используемым агентами DSA</em>. Сфера применения dSAOperation указывает, что атрибут этого типа является <em>операционным атрибутом, специфичным для DSA</em>.</p>

<p>Поле COLLECTIVE требует, чтобы сфера применения типа атрибута была userApplications. Использование коллективных атрибутов в LDAP рассматривается в [<a href="http://tools.ietf.org/html/rfc3671" title="Collective Attributes in LDAP">RFC3671</a>].</p>

<p>Поле NO-USER-MODIFICATION требует операционной сферы применения типа атрибута.</p>

<p>Обратите внимание, что в конструкции &lt;AttributeTypeDescription&gt; не перечисляются правила соответствия, которые можно использовать с этим типом атрибута в поисковом фильтре extensibleMatch [<a href="rfc4511.html" title="LDAP: Определение протокола">RFC4511</a>]. Это делается с помощью атрибута 'matchingRuleUse', описанного в <a href="#section-4.1.4">разделе 4.1.4</a>.</p>

<p>В этом документе уточняется описание схемы данных X.501: выдвигается требование, что поле SYNTAX в конструкции &lt;AttributeTypeDescription&gt; должно быть строковым представлением идентификатора объекта для строкового определения синтаксиса LDAP с опциональным указанием рекомендуемой минимальной верхней границы значения этого атрибута.</p>

<p>Рекомендуемая минимальная верхняя граница (по количеству символов в значениях с синтаксисами, основанными на строках, либо по количеству байт в значениях с любыми другими синтаксисами), может быть указана путём добавления числа в фигурных скобках вслед за идентификатором объекта синтаксиса в описании типа атрибута. Эта граница не является частью самого названия синтаксиса. Например, в формулировке "1.3.6.4.1.1466.0{64}" рекомендуется, чтобы реализации сервера позволяли строке быть длиной в 64 символа, но они могут позволить и более длинные строки. Имейте ввиду, что один символ в синтаксисе Directory String может быть закодирован более чем одним октетом, поскольку UTF-8 [<a href="http://tools.ietf.org/html/rfc3629" title="UTF-8, a transformation format of ISO 10646">RFC3629</a>] является кодировкой с переменным размером символа.</p>

<h4><a name="section-4.1.3">4.1.3</a>. Правила соответствия (Matching Rules)</h4>

<p>Правила соответствия используются при выполнении действий с утверждениями значений атрибутов, например, при выполнении операции Compare. Также они используются при оценке поисковых фильтров, определении того, какие индивидуальные значения должны быть добавлены или удалены в ходе выполнения операции Modify, и при сравнении уникальных имён.</p>

<p>Каждое правило соответствия идентифицируется идентификатором объекта (OID) и, опционально, одним или несколькими короткими именами (дескрипторами).</p>

<p>Определения правил соответствия формулируются в соответствии со следующей ABNF:</p>
<pre class="list">
     MatchingRuleDescription = LPAREN WSP
         numericoid                 ; идентификатор объекта
         [ SP "NAME" SP qdescrs ]   ; короткие имена (дескрипторы)
         [ SP "DESC" SP qdstring ]  ; описание
         [ SP "OBSOLETE" ]          ; неактивно
         SP "SYNTAX" SP numericoid  ; синтаксис утверждения
         extensions WSP RPAREN      ; расширения
</pre>
<p>здесь:</p>
<ul>
<li>&lt;numericoid&gt;&thinsp;&mdash;&thinsp;идентификатор объекта, назначенный данному правилу соответствия;</li>
<li>NAME &lt;qdescrs&gt;&thinsp;&mdash;&thinsp;короткие имена (дескрипторы), идентифицирующие данное правило соответствия;</li>
<li>DESC &lt;qdstring&gt;&thinsp;&mdash;&thinsp;короткая строка описания;</li>
<li>OBSOLETE указывает, что данное правило соответствия является неактивным;</li>
<li>SYNTAX идентифицирует синтаксис утверждения (синтаксис значения утверждения) по идентификатору объекта; и</li>
<li>&lt;extensions&gt; описывает расширения.</li>
</ul>

<h4><a name="section-4.1.4">4.1.4</a>. Применения правил соответствия (Matching Rule Uses)</h4>

<p>В так называемом применении правила соответствия перечисляются типы атрибутов, которые подходят для использования с поисковым фильтром extensibleMatch.</p>

<p>Описания применений правил соответствия формулируются в соответствии со следующей ABNF:</p>
<pre class="list">
     MatchingRuleUseDescription = LPAREN WSP
         numericoid                 ; идентификатор объекта
         [ SP "NAME" SP qdescrs ]   ; короткие имена (дескрипторы)
         [ SP "DESC" SP qdstring ]  ; описание
         [ SP "OBSOLETE" ]          ; неактивно
         SP "APPLIES" SP oids       ; типы атрибутов
         extensions WSP RPAREN      ; расширения
</pre>
<p>здесь:</p>
<ul>
<li>&lt;numericoid&gt;&thinsp;&mdash;&thinsp;идентификатор объекта правила соответствия, назначенный данному описанию применения правила соответствия;</li>
<li>NAME &lt;qdescrs&gt;&thinsp;&mdash;&thinsp;короткие имена (дескрипторы), идентифицирующие данное применение правила соответствия;</li>
<li>DESC &lt;qdstring&gt;&gt;&thinsp;&mdash;&thinsp;короткая строка описания;</li>
<li>OBSOLETE указывает, что данное применение правила соответствия является неактивным;</li>
<li>APPLIES предоставляет список типов атрибутов, к которым применяется это правило соответствия; и</li>
<li>&lt;extensions&gt; описывает расширения.</li>
</ul>

<h4><a name="section-4.1.5">4.1.5</a>. Синтаксисы LDAP</h4>

<p>Синтаксисы значений (атрибутов и утверждений) LDAP описываются в терминах ASN.1 [<a href="#ref-X.680" title="Abstract Syntax Notation One (ASN.1) - Specification of Basic Notation">X.680</a>] и, опционально, имеют кодировку строки октетов, известную как специфичная для LDAP кодировка. Обычно, специфичная для LDAP кодировка сводится к строке символов Unicode [<a href="#ref-Unicode" title="The Unicode Standard, Version 3.2.0">Unicode</a>] в форме UTF-8 [<a href="http://tools.ietf.org/html/rfc3629" title="UTF-8, a transformation format of ISO 10646">RFC3629</a>].</p>

<p>Каждый синтаксис LDAP идентифицируется по идентификатору объекта (OID).</p>

<p>Определения синтаксисов LDAP формулируются в соответствии со следующей ABNF:</p>
<pre class="list">
     SyntaxDescription = LPAREN WSP
         numericoid                 ; идентификатор объекта
         [ SP "DESC" SP qdstring ]  ; описание
         extensions WSP RPAREN      ; расширения
</pre>
<p>здесь:</p>
<ul>
<li>&lt;numericoid&gt;&thinsp;&mdash;&thinsp;идентификатор объекта, назначенный данному синтаксису LDAP;</li>
<li>DESC &lt;qdstring&gt;&gt;&thinsp;&mdash;&thinsp;короткая строка описания; и</li>
<li>&lt;extensions&gt; описывает расширения.</li>
</ul>

<h4><a name="section-4.1.6">4.1.6</a>. Правила содержимого DIT</h4>

<p>Правило содержимого DIT&thinsp;&mdash;&thinsp;это "правило, регулирующее содержимое записей конкретного структурного объектного класса" [<a href="#ref-X.501" title="The Directory: Models">X.501</a>].</p>

<p>Для записей DIT, построенных на конкретном структурном объектном классе, правило содержимого DIT указывает, каким вспомогательным объектным классам разрешено принадлежать этим записям, а также каким дополнительным атрибутам (по типу) требуется, разрешено или не разрешено появляться в записях.</p>

<p>Список исключённых атрибутов не может содержать каких-либо атрибутов, указанных в качестве обязательных в этом правиле, структурном объектном классе или в любом из разрешённых вспомогательных объектных классов.</p>

<p>Каждое правило содержимого идентифицируется идентификатором объекта, а также любым количеством коротких имён (дескрипторов) структурного объектного класса, к которому оно применяется.</p>

<p>Запись может принадлежать только тем вспомогательным объектным классам, которые перечислены в регулирующем правиле содержимого.</p>

<p>Запись должна содержать все атрибуты, требуемые объектными классами, к которым она принадлежит, а также все атрибуты, требуемые регулирующим правилом содержимого.</p>

<p>Запись может содержать любые неисключённые атрибуты, разрешённые объектными классами, к которым она принадлежит, а также все атрибуты, разрешённые регулирующим правилом содержимого.</p>

<p>Запись не может включать любые атрибуты, исключённые регулирующим правилом содержимого.</p>

<p>Запись регулируется правилом содержимого DIT (если оно присутствует и активно в подсхеме), применяющимся к структурному объектному классу этой записи (смотрите <a href="#section-2.4.2">раздел 2.4.2</a>). Если для структурного объектного класса записи не присутствует активного правила, содержание этой записи регулируется структурным объектным классом (и, возможно, другими аспектами пользовательской и системной схемы данных). Правила содержимого DIT для суперклассов структурного объектного класса записи не применяются к этой записи.</p>

<p>Описания правил содержимого DIT формулируются в соответствии со следующей ABNF:</p>
<pre class="list">
     DITContentRuleDescription = LPAREN WSP
         numericoid                 ; идентификатор объекта
         [ SP "NAME" SP qdescrs ]   ; короткие имена (дескрипторы)
         [ SP "DESC" SP qdstring ]  ; описание
         [ SP "OBSOLETE" ]          ; неактивен
         [ SP "AUX" SP oids ]       ; вспомогательные объектные классы
         [ SP "MUST" SP oids ]      ; типы атрибутов
         [ SP "MAY" SP oids ]       ; типы атрибутов
         [ SP "NOT" SP oids ]       ; типы атрибутов
         extensions WSP RPAREN      ; расширения
</pre>
<p>здесь:</p>
<ul>
<li>&lt;numericoid&gt;&thinsp;&mdash;&thinsp;идентификатор объекта структурного объектного класса, ассоциированного с данным правилом содержимого DIT;</li>
<li>NAME &lt;qdescrs&gt;&thinsp;&mdash;&thinsp;короткие имена (дескрипторы), идентифицирующие данное правило содержимого DIT;</li>
<li>DESC &lt;qdstring&gt;&thinsp;&mdash;&thinsp;короткая строка описания;</li>
<li>OBSOLETE указывает, что данное правило содержимого DIT является неактивным;</li>
<li>AUX определяет список вспомогательных объектных классов, к которым могут принадлежать записи, попадающие под действие данного правила содержимого DIT;</li>
<li>MUST, MAY и NOT определяет списки типов атрибутов, которым, соответственно, требуется, разрешено или запрещено присутствовать в записях, попадающих под действие данного правила содержимого DIT; и</li>
<li>&lt;extensions&gt; описывает расширения.</li>
</ul>

<h4><a name="section-4.1.7">4.1.7</a>. Правила структуры DIT и формы имени</h4>

<p>Иногда может возникнуть потребность регулировать местоположение записей объектов и псевдонимов в DIT, а также то, как они могут быть названы, основываясь на их структурном объектном классе.</p>

<h5><a name="section-4.1.7.1">4.1.7.1</a>. Правила структуры DIT</h5>

<p>Правило структуры DIT&thinsp;&mdash;&thinsp;это "правило, регулирующее структуру DIT путём указания взаимоотношений, разрешающих нижестоящей записи принадлежать определённой вышестоящей записи. Правило структуры по форме имени и, следовательно, по структурному объектному классу, соотносится с вышестоящими правилами структуры. Это позволяет записям, принадлежащим к структурному объектному классу, идентифицируемому по форме имени, существовать в DIT в качестве нижестоящих по отношению к записям, регулируемым указанными вышестоящими правилами структуры" [<a href="#ref-X.501" title="The Directory: Models">X.501</a>].</p>

<p>Описания правил структуры DIT формулируются в соответствии со следующей ABNF:</p>
<pre class="list">
     DITStructureRuleDescription = LPAREN WSP
         ruleid                     ; идентификатор правила
         [ SP "NAME" SP qdescrs ]   ; короткие имена (дескрипторы)
         [ SP "DESC" SP qdstring ]  ; описание
         [ SP "OBSOLETE" ]          ; неактивен
         SP "FORM" SP oid           ; форма имени
         [ SP "SUP" ruleids ]       ; вышестоящие правила
         extensions WSP RPAREN      ; расширения

     ruleids = ruleid / ( LPAREN WSP ruleidlist WSP RPAREN )
     ruleidlist = ruleid *( SP ruleid )
     ruleid = number
</pre>
<p>здесь:</p>
<ul>
<li>&lt;ruleid&gt;&thinsp;&mdash;&thinsp;идентификатор правила для данного правила структуры DIT;</li>
<li>NAME &lt;qdescrs&gt;&thinsp;&mdash;&thinsp;короткие имена (дескрипторы), идентифицирующие данное правило структуры DIT;</li>
<li>DESC &lt;qdstring&gt;&thinsp;&mdash;&thinsp;короткая строка описания;</li>
<li>OBSOLETE указывает, что данное правило структуры DIT является неактивным;</li>
<li>FORM указывает форму имени, ассоциированную с данным правилом структуры DIT;</li>
<li>SUP идентифицирует вышестоящие правила (по идентификатору правила); и</li>
<li>&lt;extensions&gt; описывает расширения.</li>
</ul>

<p>Если идентификаторов вышестоящих правил не представлено, правило структуры DIT применяется к автономной административной точке (например, к корневой вершине поддерева, управляемого данной подсхемой) [<a href="#ref-X.501" title="The Directory: Models">X.501</a>].</p>

<h5><a name="section-4.1.7.2">4.1.7.2</a>. Формы имени</h5>

<p>Форма имени "определяет допустимую RDN для записей конкретного структурного объектного класса. Форма имени идентифицирует объектный класс, на который будет распространяться правило именования, и один или несколько типов атрибутов, которые будут использоваться для именования (то есть, для RDN). Формы имени являются примитивами спецификации, применяемыми в определении правил структуры DIT" [<a href="#ref-X.501" title="The Directory: Models">X.501</a>].</p>

<p>Каждая форма имени указывает структурный объектный класс, на который будет распространяться правило именования, набор требуемых типов атрибутов и набор разрешённых типов атрибутов. Один и тот же тип атрибута не может присутствовать в обоих наборах.</p>

<p>Записи, управляемые определённой формой имени, должны именоваться с использованием значений каждого требуемого типа атрибута и нуля или более значений разрешённых типов атрибутов.</p>

<p>Каждая форма имени идентифицируется идентификатором объекта (OID) и, опционально, одним или несколькими короткими именами (дескрипторами).</p>

<p>Описания форм имени формулируются в соответствии со следующей ABNF:</p>
<pre class="list">
     NameFormDescription = LPAREN WSP
         numericoid                 ; идентификатор объекта
         [ SP "NAME" SP qdescrs ]   ; короткие имена (дескрипторы)
         [ SP "DESC" SP qdstring ]  ; описание
         [ SP "OBSOLETE" ]          ; неактивен
         SP "OC" SP oid             ; структурный объектный класс
         SP "MUST" SP oids          ; типы атрибутов
         [ SP "MAY" SP oids ]       ; типы атрибутов
         extensions WSP RPAREN      ; расширения
</pre>
<p>здесь:</p>
<ul>
<li>&lt;numericoid&gt;&thinsp;&mdash;&thinsp;это идентификатор объекта, идентифицирующий данную форму имени;</li>
<li>NAME &lt;qdescrs&gt;&thinsp;&mdash;&thinsp;короткие имена (дескрипторы), идентифицирующие данную форму имени;</li>
<li>DESC &lt;qdstring&gt;&thinsp;&mdash;&thinsp;короткая строка описания;</li>
<li>OBSOLETE указывает, что данная форма имени является неактивной;</li>
<li>OC идентифицирует структурный объектный класс, к которому применяется данное правило;</li>
<li>MUST и MAY определяют наборы, соответственно, требуемых и разрешённых атрибутов именования для данной формы имени; и</li>
<li>&lt;extensions&gt; описывает расширения.</li>
</ul>

<p>Все типы атрибутов в списках требуемых ("MUST") и разрешённых ("MAY") атрибутов именования должны быть различными.</p>

<h3><a name="section-4.2">4.2</a>. Подзаписи подсхемы (Subschema Subentries)</h3>

<p>(Под)записи подсхемы используются для управления информацией о схеме данных каталога. Одна (под)запись подсхемы содержит все определения схемы данных (смотрите <a href="#section-4.1">раздел 4.1</a>), используемые записями в конкретной части дерева каталога.</p>

<p>Серверам, придерживающимся моделей X.500(93), следует (SHOULD) реализовывать подсхемы с помощью механизмов подсхемы X.500 (как описано в разделе 12 стандарта [<a href="#ref-X.501" title="The Directory: Models">X.501</a>]), то есть не обычными записями объектов, а подзаписями (смотрите <a href="#section-3.2">раздел 3.2</a>). LDAP-клиентам не следует (SHOULD NOT) предполагать, что серверы реализуют какие-либо другие аспекты подсхемы X.500.</p>

<p>Серверы могут (MAY) разрешать модификацию подсхемы. Процедуры модификации подсхемы обсуждаются в разделе 14.5 стандарта [<a href="#ref-X.501" title="The Directory: Models">X.501</a>].</p>

<p>Серверу, управляющему записями и позволяющему клиентам изменять эти записи, нужно (SHALL) реализовывать и предоставлять доступ к (под)записям подсхемы, в том числе предоставлять атрибут 'subschemaSubentry' в каждой записи, которую можно изменить. Так, клиенту предоставляется возможность узнать, какие атрибуты и объектные классы разрешены к использованию. Настоятельно рекомендуется (RECOMMENDED), чтобы и другие типы серверов реализовывали эти возможности.</p>

<p>Значение атрибута 'subschemaSubentry'&thinsp;&mdash;&thinsp;имя (под)записи подсхемы, содержащей подсхему, управляющую данной записью.</p>
<pre class="list">
      ( 2.5.18.10 NAME 'subschemaSubentry'
        EQUALITY distinguishedNameMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.12
        SINGLE-VALUE NO-USER-MODIFICATION
        USAGE directoryOperation )
</pre>
<p>Правило соответствия 'distinguishedNameMatch' и синтаксис DistinguishedName (1.3.6.1.4.1.1466.115.121.1.12) определены в [<a href="rfc4517.html" title="LDAP: Синтаксисы и правила соответствия">RFC4517</a>].</p>

<p>Подсхема содержится в (под)записях, принадлежащих вспомогательному объектному классу subschema.</p>
<pre class="list">
      ( 2.5.20.1 NAME 'subschema' AUXILIARY
        MAY ( dITStructureRules $ nameForms $ ditContentRules $
          objectClasses $ attributeTypes $ matchingRules $
          matchingRuleUse ) )
</pre>
<p>В записях подсхемы может также присутствовать операционый атрибут 'ldapSyntaxes'.</p>

<p>Серверы могут (MAY) предоставлять в (под)записях подсхемы дополнительные атрибуты (описанные в других документах).</p>

<p>Серверам следует (SHOULD) предоставлять атрибуты 'createTimestamp' и 'modifyTimestamp' в (под)записях подсхемы, чтобы дать возможность клиентам вести свои кэши информации схемы данных.</p>

<p>В последующих подразделах даны определения типов атрибутов, используемых для определения схемы данных в подзаписи подсхемы.</p>

<h4><a name="section-4.2.1">4.2.1</a>. 'objectClasses'</h4>

<p>Данный атрибут содержит определения объектных классов.</p>
<pre class="list">
      ( 2.5.21.6 NAME 'objectClasses'
        EQUALITY objectIdentifierFirstComponentMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.37
        USAGE directoryOperation )
</pre>
<p>Правило соответствия 'objectIdentifierFirstComponentMatch' и синтаксис ObjectClassDescription (1.3.6.1.4.1.1466.115.121.1.37) определены в [<a href="rfc4517.html" title="LDAP: Синтаксисы и правила соответствия">RFC4517</a>].</p>

<h4><a name="section-4.2.2">4.2.2</a>. 'attributeTypes'</h4>

<p>Данный атрибут содержит определения типов атрибутов.</p>
<pre class="list">
      ( 2.5.21.5 NAME 'attributeTypes'
        EQUALITY objectIdentifierFirstComponentMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.3
        USAGE directoryOperation )
</pre>
<p>Правило соответствия 'objectIdentifierFirstComponentMatch' и синтаксис AttributeTypeDescription (1.3.6.1.4.1.1466.115.121.1.3) определены в [<a href="rfc4517.html" title="LDAP: Синтаксисы и правила соответствия">RFC4517</a>].</p>

<h4><a name="section-4.2.3">4.2.3</a>. 'matchingRules'</h4>

<p>Данный атрибут содержит определения правил соответствия.</p>
<pre class="list">
      ( 2.5.21.4 NAME 'matchingRules'
        EQUALITY objectIdentifierFirstComponentMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.30
        USAGE directoryOperation )
</pre>
<p>Правило соответствия 'objectIdentifierFirstComponentMatch' и синтаксис MatchingRuleDescription (1.3.6.1.4.1.1466.115.121.1.30) определены в [<a href="rfc4517.html" title="LDAP: Синтаксисы и правила соответствия">RFC4517</a>].</p>

<h4><a name="section-4.2.4">4.2.4</a>. 'matchingRuleUse'</h4>

<p>Данный атрибут содержит определения применений правил соответствия.</p>
<pre class="list">
      ( 2.5.21.8 NAME 'matchingRuleUse'
        EQUALITY objectIdentifierFirstComponentMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.31
        USAGE directoryOperation )
</pre>
<p>Правило соответствия 'objectIdentifierFirstComponentMatch' и синтаксис MatchingRuleUseDescription (1.3.6.1.4.1.1466.115.121.1.31) определены в [<a href="rfc4517.html" title="LDAP: Синтаксисы и правила соответствия">RFC4517</a>].</p>

<h4><a name="section-4.2.5">4.2.5</a>. 'ldapSyntaxes'</h4>

<p>Данный атрибут содержит определения синтаксисов LDAP.<p>
<pre class="list">
      ( 1.3.6.1.4.1.1466.101.120.16 NAME 'ldapSyntaxes'
        EQUALITY objectIdentifierFirstComponentMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.54
        USAGE directoryOperation )
</pre>
<p>Правило соответствия 'objectIdentifierFirstComponentMatch' и синтаксис SyntaxDescription (1.3.6.1.4.1.1466.115.121.1.54) определены в [<a href="rfc4517.html" title="LDAP: Синтаксисы и правила соответствия">RFC4517</a>].</p>

<h4><a name="section-4.2.6">4.2.6</a>. 'dITContentRules'</h4>

<p>В данном атрибуте перечислены присутствующие в подсхеме правила содержимого DIT.</p>
<pre class="list">
      ( 2.5.21.2 NAME 'dITContentRules'
        EQUALITY objectIdentifierFirstComponentMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.16
        USAGE directoryOperation )
</pre>
<p>Правило соответствия 'objectIdentifierFirstComponentMatch' и синтаксис DITContentRuleDescription (1.3.6.1.4.1.1466.115.121.1.16) определены в [<a href="rfc4517.html" title="LDAP: Синтаксисы и правила соответствия">RFC4517</a>].</p>

<h4><a name="section-4.2.7">4.2.7</a>. 'dITStructureRules'</h4>

<p>В данном атрибуте перечислены присутствующие в подсхеме правила структуры DIT.</p>
<pre class="list">
      ( 2.5.21.1 NAME 'dITStructureRules'
        EQUALITY integerFirstComponentMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.17
        USAGE directoryOperation )
</pre>
<p>Правило соответствия 'integerFirstComponentMatch' и синтаксис DITStructureRuleDescription (1.3.6.1.4.1.1466.115.121.1.17) определены в [<a href="rfc4517.html" title="LDAP: Синтаксисы и правила соответствия">RFC4517</a>].</p>

<h4><a name="section-4.2.8">4.2.8</a>. 'nameForms'</h4>

<p>В данном атрибуте перечислены действующие формы имени.</p>
<pre class="list">
      ( 2.5.21.7 NAME 'nameForms'
        EQUALITY objectIdentifierFirstComponentMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.35
        USAGE directoryOperation )
</pre>
<p>Правило соответствия 'objectIdentifierFirstComponentMatch' и синтаксис NameFormDescription (1.3.6.1.4.1.1466.115.121.1.35) определены в [<a href="rfc4517.html" title="LDAP: Синтаксисы и правила соответствия">RFC4517</a>].</p>

<h3><a name="section-4.3">4.3</a>. Объектный класс 'extensibleObject'</h3>

<p>Вспомогательный объектный класс 'extensibleObject' позволяет принадлежащим к нему записям содержать любой пользовательский атрибут. Набор разрешённых типов атрибутов этого объектного класса представляет собой неявную совокупность всех типов атрибутов с областью применения userApplications.</p>
<pre class="list">
      ( 1.3.6.1.4.1.1466.101.120.111 NAME 'extensibleObject'
        SUP top AUXILIARY )
</pre>
<p>Требование о наличии обязательных атрибутов других объектных классов записи остаётся в силе, так же как и запрет на присутствие исключенных атрибутов.</p>

<h3><a name="section-4.4">4.4</a>. Изучение подсхемы</h3>

<p>Чтобы определить DN (под)записи подсхемы, содержащей подсхему, управляющую конкретной записью, клиент считывает операционный атрибут 'subschemaSubentry' этой записи. Для чтения атрибутов схемы данных из (под)записи подсхемы клиент должен (MUST) выполнить операцию поиска Search [<a href="rfc4511.html#section-4.5" title="LDAP: Определение протокола">RFC4511</a>], где baseObject&thinsp;&mdash;&thinsp;DN (под)записи подсхемы, диапазон поиска&thinsp;&mdash;&thinsp;baseObject, фильтр&thinsp;&mdash;&thinsp;"(objectClass=subschema)" [<a href="rfc4515.html" title="LDAP: Строковое представление поисковых фильтров">RFC4515</a>], а в поле атрибутов перечислены имена требуемых атрибутов схемы данных (поскольку они являются операционными). Примечание: фильтр "(objectClass=subschema)" позволяет серверам LDAP, выполняющим роль шлюза к X.500, определить, что запрашивается информация о подзаписи.</p>

<p>Клиентам не следует (SHOULD NOT) предполагать, что опубликованная подсхема является полной, что сервер поддерживает все опубликованные им элементы схемы данных или что он не поддерживает неопубликованные.</p>

<h2><a name="section-5">5</a>. Информационная модель DSA (сервера)</h2>

<p>Протокол LDAP подразумевает, что есть один или несколько серверов, совместно предоставляющих доступ к информационному дереву каталога (DIT). Сервер, на котором содержится исходная информация, называется "главным" ("master") (по отношению к этой информации). Серверы, на которых содержатся копии исходной информации, называются "теневыми" ("shadowing") или "кэширующими" ("caching") серверами.</p>

<p>Как определено в стандарте [<a href="#ref-X.501" title="The Directory: Models">X.501</a>]:</p>
<blockquote>
<p>Префикс контекста (context prefix): Последовательность RDN, ведущая от корня DIT до первоначальной вершины контекста именования; соответствует уникальному имени этой вершины.</p>

<p>Контекст именования (naming context): Поддерево записей, содержащееся в одном главном DSA.</p>
</blockquote>
<p>То есть, контекст именования&thinsp;&mdash;&thinsp;это наибольшая совокупность записей, начинающаяся с записи, управляемой конкретным главным сервером, и включающая все нижестоящие по отношению к ней записи, а также нижестоящие по отношению к ним и так далее, вплоть до записей, управляемых различными главными серверами. Префикс контекста&thinsp;&mdash;&thinsp;это имя первоначальной записи.</p>

<p>Корнем DIT является специфичная для DSA запись (DSA-specific Entry, DSE). Она не входит в какой-либо контекст именования (или какое-либо поддерево). У каждого сервера значения атрибутов в корневой DSE различны.</p>

<h3><a name="section-5.1">5.1</a>. Требования к специфичной для сервера информации</h3>

<p>LDAP-серверу следует (SHALL) предоставлять информацию о самом себе и другую информацию, специфичную для каждого сервера. Она представлена в виде группы атрибутов, расположенных в корневой DSE, имя которой&thinsp;&mdash;&thinsp;DN, состоящее из нуля RDN (строковое представление которой согласно [<a href="rfc4514.html" title="LDAP: Строковое представление уникальных имён">RFC4514</a>]&thinsp;&mdash;&thinsp;строка нулевой длины).</p>

<p>Эти атрибуты можно затребовать, на них накладываются условия контроля доступа и другие ограничения. Для их запроса клиент выполняет операцию поиска Search [<a href="rfc4511.html#section-4.5" title="LDAP: Определение протокола">RFC4511</a>] с пустым baseObject, диапазоном поиска&thinsp;&mdash;&thinsp;baseObject, фильтром&thinsp;&mdash;&thinsp; "(objectClass=*)" [<a href="rfc4515.html" title="LDAP: Строковое представление поисковых фильтров">RFC4515</a>], а в поле атрибутов перечислены имена описанных атрибутов. Имейте ввиду, что атрибуты корневой DSE являются операционными и, как и другие операционные атрибуты, не возвращаются в ответ на поисковый запрос, если не были запрошены явно по имени.</p>

<p>Корневая DSE не должна (SHALL NOT) быть включена в возвращаемые клиенту данные, если тот выполняет поиск по поддереву, начиная от корня.</p>

<p>Серверы могут разрешить клиентам модифицировать атрибуты корневой DSE, если это уместно.</p>

<p>Ниже определены следующие атрибуты корневой DSE (дополнительные атрибуты могут быть определены в других документах):</p>
<ul>
<li>altServer: альтернативные серверы;</li>
<li>namingContexts: контексты именования;</li>
<li>supportedControl: элементы управления LDAP, которые распознаёт сервер;</li>
<li>supportedExtension: расширенные операции LDAP, которые распознаёт сервер;</li>
<li>supportedFeatures: возможности LDAP, которые распознаёт сервер;</li>
<li>supportedLDAPVersion: поддерживаемые версии LDAP; и</li>
<li>supportedSASLMechanisms: механизмы Simple Authentication and Security Layers (SASL) [<a href="http://tools.ietf.org/html/rfc4422" title="Simple Authentication and Security Layer (SASL)">RFC4422</a>], которые распознаёт сервер.</li>
</ul>
<p>Значения этих атрибутов могут зависеть от конкретной сессии и других факторов. Например, сервер, поддерживающий механизм SASL EXTERNAL, может указать только "EXTERNAL" в списке поддерживаемых механизмов, если клиент прошёл проверку подлинности на более низком уровне. Смотрите [<a href="rfc4513.html" title="LDAP: Методы аутентификации и механизмы обеспечения безопасности">RFC4513</a>].</p>

<p>Корневая DSE может также включать атрибут 'subschemaSubentry', в этом случае он указывает на (под)запись подсхемы, содержащей схему данных, управляющую корневой DSE. Клиентам не следует (SHOULD NOT) предполагать, что данная (под)запись подсхемы управляет другими записями на этом сервере. Общие процедуры изучения подсхемы даны в <a href="#section-4.4">разделе 4.4</a>.</p>

<h4><a name="section-5.1.1">5.1.1</a>. 'altServer'</h4>

<p>В атрибуте 'altServer' перечисляются URI, указывающие на альтернативные серверы, с которыми можно связаться в случае, если этот сервер станет недоступен. URI для серверов, реализующих LDAP, составляются в соответствии с [<a href="rfc4516.html" title="LDAP: Единый указатель ресурса (URL)">RFC4516</a>]. Могут предоставляться другие типы URI. Если серверу неизвестно о каких-либо других серверах, которые могут быть использованы, данный атрибут опускается. Клиенты могут кэшировать эту информацию на случай, если предпочитаемый ими сервер позже станет недоступен.</p>
<pre class="list">
      ( 1.3.6.1.4.1.1466.101.120.6 NAME 'altServer'
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.26
        USAGE dSAOperation )
</pre>
<p>Синтаксис IA5String (1.3.6.1.4.1.1466.115.121.1.26) определён в [<a href="rfc4517.html" title="LDAP: Синтаксисы и правила соответствия">RFC4517</a>].</p>

<h4><a name="section-5.1.2">5.1.2</a>. 'namingContexts'</h4>

<p>В атрибуте 'namingContexts' перечисляются префиксы контекстов именования, для которых этот сервер является главным или теневым (для части или всего контекста именования).  Если сервер представляет собой DSA первого уровня [<a href="#ref-X.501" title="The Directory: Models">X.501</a>], он должен (дополнительно) указать в этом атрибуте пустую строку (обозначающую корень DIT). Если сервер не является главным или теневым для какой-либо информации (например, он представляет собой шлюз LDAP к публичному каталогу X.500), данный атрибут опускается. Если сервер считает, что является главным или теневым для всего каталога, то в этом атрибуте будет единственное значение&thinsp;&mdash;&thinsp;пустая строка (обозначающая корень DIT).</p>

<p>Этот атрибут может быть использован, к примеру, для выбора подходящего имени записи в последующих операциях с этим сервером.</p>
<pre class="list">
      ( 1.3.6.1.4.1.1466.101.120.5 NAME 'namingContexts'
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.12
        USAGE dSAOperation )
</pre>
<p>Синтаксис DistinguishedName (1.3.6.1.4.1.1466.115.121.1.12) определён в [<a href="rfc4517.html" title="LDAP: Синтаксисы и правила соответствия">RFC4517</a>].</p>

<h4><a name="section-5.1.3">5.1.3</a>. 'supportedControl'</h4>

<p>В атрибуте 'supportedControl' перечисляются идентификаторы объектов, идентифицирующие поддерживаемые сервером элементы управления запроса [<a href="rfc4511.html#section-4.1.11" title="LDAP: Определение протокола">RFC4511</a>]. Если сервер не поддерживает никаких элементов управления запроса, данный атрибут опускается. Идентификаторы объектов, идентифицирующие элементы управления ответа, перечислять не нужно.</p>

<p>Процедуры запроса идентификаторов объектов, используемых для идентификации механизмов протокола, описаны в <a href="http://tools.ietf.org/html/rfc4520">BCP 64</a>, <a href="http://tools.ietf.org/html/rfc4520" title="Соглашения IANA о LDAP">RFC4520</a>.</p>
<pre class="list">
      ( 1.3.6.1.4.1.1466.101.120.13 NAME 'supportedControl'
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.38
        USAGE dSAOperation )
</pre>
<p>Синтаксис OBJECT IDENTIFIER (1.3.6.1.4.1.1466.115.121.1.38) определён в [<a href="rfc4517.html" title="LDAP: Синтаксисы и правила соответствия">RFC4517</a>].</p>

<h4><a name="section-5.1.4">5.1.4</a>. 'supportedExtension'</h4>

<p>В атрибуте 'supportedExtension' перечисляются идентификаторы объектов, идентифицирующие поддерживаемые сервером расширенные операции [<a href="rfc4511.html#section-4.12" title="LDAP: Определение протокола">RFC4511</a>]. Если сервер не поддерживает никаких расширенных операций, данный атрибут опускается.</p>

<p>В общем случае расширенная операция состоит из расширенного запроса и расширенного ответа, но также может включать и другие элементы протокола (такие как промежуточные ответы). Для идентификации расширенной операции используется идентификатор объекта, ассоциированный с расширенным запросом. Другие используемые в расширенной операции идентификаторы объектов в значениях этого атрибута перечислять не нужно.</p>

<p>Процедуры запроса идентификаторов объектов, используемых для идентификации механизмов протокола, описаны в <a href="http://tools.ietf.org/html/rfc4520">BCP 64</a>, <a href="http://tools.ietf.org/html/rfc4520" title="Соглашения IANA о LDAP">RFC4520</a>.</p>
<pre class="list">
      ( 1.3.6.1.4.1.1466.101.120.7 NAME 'supportedExtension'
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.38
        USAGE dSAOperation )
</pre>
<p>Синтаксис OBJECT IDENTIFIER (1.3.6.1.4.1.1466.115.121.1.38) определён в [<a href="rfc4517.html" title="LDAP: Синтаксисы и правила соответствия">RFC4517</a>].</p>

<h4><a name="section-5.1.5">5.1.5</a>. 'supportedFeatures'</h4>

<p>В атрибуте 'supportedFeatures' перечисляются идентификаторы объектов, идентифицирующие поддерживаемые сервером факультативные возможности. Если сервер не поддерживает никаких распознаваемых факультативных возможностей, данный атрибут опускается.</p>
<pre class="list">
      ( 1.3.6.1.4.1.4203.1.3.5 NAME 'supportedFeatures'
          EQUALITY objectIdentifierMatch
          SYNTAX 1.3.6.1.4.1.1466.115.121.1.38
          USAGE dSAOperation )
</pre>
<p>Процедуры запроса идентификаторов объектов, используемых для идентификации механизмов протокола, описаны в <a href="http://tools.ietf.org/html/rfc4520">BCP 64</a>, <a href="http://tools.ietf.org/html/rfc4520" title="Соглашения IANA о LDAP">RFC4520</a>.</p>

<p>Синтаксис OBJECT IDENTIFIER (1.3.6.1.4.1.1466.115.121.1.38) и правило соответствия objectIdentifierMatch определены в [<a href="rfc4517.html" title="LDAP: Синтаксисы и правила соответствия">RFC4517</a>].</p>

<h4><a name="section-5.1.6">5.1.6</a>. 'supportedLDAPVersion'</h4>

<p>В атрибуте 'supportedLDAPVersion' перечисляются поддерживаемые сервером версии LDAP.</p>
<pre class="list">
      ( 1.3.6.1.4.1.1466.101.120.15 NAME 'supportedLDAPVersion'
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.27
        USAGE dSAOperation )
</pre>
<p>Синтаксис INTEGER (1.3.6.1.4.1.1466.115.121.1.27) определён в [<a href="rfc4517.html" title="LDAP: Синтаксисы и правила соответствия">RFC4517</a>].</p>

<h4><a name="section-5.1.7">5.1.7</a>. 'supportedSASLMechanisms'</h4>

<p>В атрибуте 'supportedSASLMechanisms' перечисляются распознаваемые и/или поддерживаемые сервером механизмы SASL [<a href="http://tools.ietf.org/html/rfc4422" title="Simple Authentication and Security Layer (SASL)">RFC4422</a>] [<a href="rfc4513.html" title="LDAP: Методы аутентификации и механизмы обеспечения безопасности">RFC4513</a>]. Содержимое этого атрибута может зависеть от состояния текущей сессии. Если сервер не поддерживает никаких механизмов SASL, данный атрибут опускается.</p>
<pre class="list">
      ( 1.3.6.1.4.1.1466.101.120.14 NAME 'supportedSASLMechanisms'
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.15
        USAGE dSAOperation )
</pre>
<p>Синтаксис Directory String (1.3.6.1.4.1.1466.115.121.1.15) определён в [<a href="rfc4517.html" title="LDAP: Синтаксисы и правила соответствия">RFC4517</a>].</p>

<h2><a name="section-6">6</a>. Прочие соображения</h2>

<h3><a name="section-6.1">6.1</a>. Сохранность в неизменном виде пользовательской информации</h3>

<p>Могут быть определены синтаксисы, у которых задано требование сохранности в неизменном виде специфического значения и/или формы (представления) значения. Например, синтаксис хранения данных цифровой подписи может выдвигать требования сохранности сервером в неизменном виде как значения, так и формы представления значения, чтобы гарантировать, что подпись не станет недействительной.</p>

<p>В случаях, когда такое требование не задано явно, серверу следует (SHOULD) поддерживать сохранность значения пользовательской информации, но он может (MAY) возвращать значение в форме, отличной от оригинала. А в случаях, когда сервер не может (или не желает) поддерживать сохранность значения пользовательской информации, ему следует (SHALL) обеспечить возврат эквивалентного значения (согласно <a href="#section-2.3">разделу 2.3</a>).</p>

<h3><a name="section-6.2">6.2</a>. Короткие имена</h3>

<p>Короткие имена, известные также как дескрипторы, используются в качестве более читабельных псевдонимов для идентификаторов объектов. Применяются для идентификации различных элементов схемы данных. Однако, не ожидается, что реализации LDAP с интерфейсом, рассчитанным на вывод информации человеку, будут отображать пользователю такие короткие имена (или идентификаторы объектов, на которые они ссылаются). Вместо этого, таким реализациям предпочтительнее выполнять трансляции (например, представлять эти короткие имена на одном из национальных языков). Например, короткое имя "st" (stateOrProvinceName) пользователю, говорящему на немецком, может выводиться как "Land".</p>

<p>Одно и то же короткое имя может иметь разные значения в разных подсхемах. Кроме того, в рамках одной конкретной подсхемы одно и то же короткое имя может указывать на различные идентификаторы объектов, каждый из которых идентифицирует разные типы элементов схемы данных.</p>

<p>Реализации должны (MUST) быть готовы к тому, что одно и то же короткое имя может быть использовано в подсхеме для указания на разные типы элементов схемы данных. То есть, в одной подсхеме может быть объектный класс 'x-fubar' и тип атрибута 'x-fubar'.</p>

<p>Реализации должны (MUST) быть готовы к тому, что одно и то же короткое имя может быть использовано в разных подсхемах для указания на разные элементы схемы данных. То есть, в разных подсхемах могут быть два разных правила соответствия 'x-fubar'.</p>

<p>Процедуры регистрации коротких имён (дескрипторов) описаны в <a href="http://tools.ietf.org/html/rfc4520">BCP 64</a>, <a href="http://tools.ietf.org/html/rfc4520" title="Соглашения IANA о LDAP">RFC4520</a>.</p>

<h3><a name="section-6.3">6.3</a>. Кэши и теневые копии</h3>

<p>Некоторые серверы могут хранить кэшированные или теневые копии записей. Такие серверы могут быть использованы для ответов на запросы поиска и сравнения, но при получении запросов операций модификации они будут возвращать отсылки или устанавливать соединения с другими серверами. Серверы, выполняющие роль теневых копий или кэшей, должны (MUST) гарантировать, что они не нарушают никаких ограничений контроля доступа, накладываемых на информацию исходным сервером.</p>

<h2><a name="section-7">7</a>. Рекомендации для реализаций</h2>

<h3><a name="section-7.1">7.1</a>. Рекомендации для серверов</h3>

<p>Серверы должны (MUST) распознавать все имена типов атрибутов и объектных классов, определённых в этом документе, но, если не указано иное, от них не требуется поддерживать соответствующую функциональность. Серверам следует (SHOULD) распознавать все имена типов атрибутов и объектных классов, определённых в, соответственно, в разделах <a href="rfc4519.html#section-3">3</a> и <a href="rfc4519.html#section-4">4</a> [<a href="rfc4519.html" title="LDAP: Схема данных для пользовательских приложений">RFC4519</a>].</p>

<p>Серверы должны (MUST) обеспечить удовлетворение записями правил пользовательской и системной схем данных или других ограничений модели данных. Серверы могут (MAY) поддерживать правила содержимого DIT. Серверы могут (MAY) поддерживать правила структуры DIT и формы имён.</p>

<p>Серверы могут (MAY) поддерживать записи-псевдонимы.</p>

<p>Серверы могут (MAY) поддерживать объектный класс 'extensibleObject'.</p>

<p>Серверы могут (MAY) поддерживать подзаписи. Если это так, они должны (MUST) делать это в соответствии с [<a href="http://tools.ietf.org/html/rfc3672" title="Subentries in LDAP">RFC3672</a>]. Серверам, не поддерживающим подзаписи, следует (SHOULD) использовать записи-объекты для имитации подзаписей, как описано в <a href="#section-3.2">разделе 3.2</a>.</p>

<p>Серверы могут (MAY) реализовывать дополнительные элементы схемы данных. Серверам следует (SHOULD) предоставлять определения всех поддерживаемых ими элементов схемы данных в подзаписях (записях) подсхемы.</p>

<h3><a name="section-7.2">7.2</a>. Рекомендации для клиентов</h3>

<p>При отсутсвии предварительных договорённостей с серверами, клиентам не следует (SHOULD NOT) предполагать, что серверы поддерживают какие-либо конкретные элементы схемы данных помимо тех, которые упоминаются в <a href="#section-7.1">разделе 7.1</a>. Клиенты могут получить информацию подсхемы с помощью последовательности действий, описанных в <a href="#section-4.4">разделе 4.4</a>.</p>

<p>Клиенты не должны (MUST NOT) отображать или пытаться декодировать значение как конструкцию ASN.1, если синтаксис этого значения неизвестен. Клиенты не должны (MUST NOT) предполагать, что специфичная для LDAP кодировка строк ограничивается закодированными UTF-8 строками символов Unicode или какого-то конкретного подмножества Unicode (например, подмножества печатных символов), если подобное ограничение не установлено явно. Клиентам не следует (SHOULD NOT) посылать в запросе значения атрибута, которые не являются верными в соответствии с синтаксисом, определенным для этого атрибута.</p>

<h2><a name="section-8">8</a>. О безопасности</h2>

<p>Атрибуты записей каталога используются для предоставления описательной информации об объектах реального мира, которые они представляют. Такими объектами могут быть люди, организации или устройства. В большинстве стран имеются законы, касающиеся защиты конфиденциальности при публикации информации о людях.</p>

<p>Основные соображения безопасности при доступе к информации каталога посредством LDAP обсуждаются в [<a href="rfc4511.html#section-6" title="LDAP: Определение протокола">RFC4511</a>] и [<a href="rfc4513.html" title="LDAP: Методы аутентификации и механизмы обеспечения безопасности">RFC4513</a>].</p>

<h2><a name="section-9">9</a>. Регистрация в IANA</h2>

<p>Администрация адресного пространства Интернет (Internet Assigned Numbers Authority, IANA) обновила регистрацию дескрипторов LDAP как указано в следующей форме:</p>
<pre class="list">
      Subject: Request for LDAP Descriptor Registration Update
      Descriptor (short name): see comment
      Object Identifier: see comment
      Person &amp; email address to contact for further information:
          Kurt Zeilenga &lt;kurt@OpenLDAP.org&gt;
      Usage: see comment
      Specification: RFC 4512
      Author/Change Controller: IESG
      Comments:

      The following descriptors (short names) has been added to
      the registry.

        NAME                         Type OID
        ------------------------     ---- -----------------
        governingStructureRule          A 2.5.21.10
        structuralObjectClass           A 2.5.21.9

      The following descriptors (short names) have been updated to
      refer to this RFC.

        NAME                         Type OID
        ------------------------     ---- -----------------
        alias                           O 2.5.6.1
        aliasedObjectName               A 2.5.4.1
        altServer                       A 1.3.6.1.4.1.1466.101.120.6
        attributeTypes                  A 2.5.21.5
        createTimestamp                 A 2.5.18.1
        creatorsName                    A 2.5.18.3
        dITContentRules                 A 2.5.21.2
        dITStructureRules               A 2.5.21.1
        extensibleObject                O 1.3.6.1.4.1.1466.101.120.111
        ldapSyntaxes                    A 1.3.6.1.4.1.1466.101.120.16
        matchingRuleUse                 A 2.5.21.8
        matchingRules                   A 2.5.21.4
        modifiersName                   A 2.5.18.4
        modifyTimestamp                 A 2.5.18.2
        nameForms                       A 2.5.21.7
        namingContexts                  A 1.3.6.1.4.1.1466.101.120.5
        objectClass                     A 2.5.4.0
        objectClasses                   A 2.5.21.6
        subschema                       O 2.5.20.1
        subschemaSubentry               A 2.5.18.10
        supportedControl                A 1.3.6.1.4.1.1466.101.120.13
        supportedExtension              A 1.3.6.1.4.1.1466.101.120.7
        supportedFeatures               A 1.3.6.1.4.1.4203.1.3.5
        supportedLDAPVersion            A 1.3.6.1.4.1.1466.101.120.15
        supportedSASLMechanisms         A 1.3.6.1.4.1.1466.101.120.14
        top                             O 2.5.6.0
</pre>
<h2><a name="section-10">10</a>. Благодарности</h2>

<p>Этот документ основан на <a href="http://tools.ietf.org/html/rfc2251">RFC 2251</a>, авторы M. Wahl, T. Howes и S. Kille; <a href="http://tools.ietf.org/html/rfc2252">RFC 2252</a>, авторы M. Wahl, A. Coulbeck, T. Howes, S. Kille; <a href="http://tools.ietf.org/html/rfc2556">RFC 2556</a>, авторы M. Wahl, все они разработаны рабочей группой IETF Access, Searching and Indexing of Directories (ASID). Он также основан на части стандарта "The Directory: Models" [<a href="#ref-X.501" title="The Directory: Models">X.501</a>], разработанного International Telephone Union (ITU). Дополнительный текст был заимствован из <a href="http://tools.ietf.org/html/rfc2253">RFC 2253</a>, авторы M. Wahl, T. Howes и S. Kille.</p>

</p>Этот документ разработан рабочей группой IETF LDAP Revision (LDAPBIS).</p>

<h2><a name="section-11">11</a>. Нормативные документы</h2>

<p>[<a name="ref-RFC2119" id="ref-RFC2119">RFC2119</a>] Bradner, S., "Ключевые слова для обозначения уровня требований в RFC", <a href="http://rfc2.ru/2119.rfc">BCP 14</a>, <a href="http://rfc2.ru/2119.rfc">RFC 2119</a>, март 1997 г.</p>

<p>[<a name="ref-RFC3629" id="ref-RFC3629">RFC3629</a>] Yergeau, F., "UTF-8, a transformation format of ISO 10646", STD 63, <a href="http://tools.ietf.org/html/rfc3629">RFC 3629</a>, ноябрь 2003 г.</p>

<p>[<a name="ref-RFC3671" id="ref-RFC3671">RFC3671</a>] Zeilenga, K., "Collective Attributes in the Lightweight Directory Access Protocol (LDAP)", <a href="http://tools.ietf.org/html/rfc3671">RFC 3671</a>, декабрь 2003 г.</p>

<p>[<a name="ref-RFC3672" id="ref-RFC3672">RFC3672</a>] Zeilenga, K., "Subentries in the Lightweight Directory Access Protocol (LDAP)", <a href="http://tools.ietf.org/html/rfc3672">RFC 3672</a>, декабрь 2003 г.</p>

<p>[<a name="ref-RFC4234" id="ref-RFC4234">RFC4234</a>] Crocker, D. и P. Overell, "Augmented BNF for Syntax Specifications: ABNF", <a href="http://tools.ietf.org/html/rfc4234">RFC 4234</a>, октябрь 2005 г.</p>

<p>[<a name="ref-RFC4422" id="ref-RFC4422">RFC4422</a>] Под редакцией Melnikov, A. и K. Zeilenga, "Simple Authentication and Security Layer (SASL)", <a href="http://tools.ietf.org/html/rfc4422">RFC 4422</a>, июнь 2006 г.</p>

<p>[<a name="ref-RFC4510" id="ref-RFC4510">RFC4510</a>] Под редакцией Zeilenga, K., "Lightweight Directory Access Protocol (LDAP): Путеводитель по технической спецификации", <a href="rfc4510.html">RFC 4510</a>, июнь 2006 г.</p>

<p>[<a name="ref-RFC4511" id="ref-RFC4511">RFC4511</a>] Под редакцией Sermersheim, J., "Lightweight Directory Access Protocol (LDAP): Определение протокола", <a href="rfc4511.html">RFC 4511</a>, июнь 2006 г.</p>

<p>[<a name="ref-RFC4513" id="ref-RFC4513">RFC4513</a>] Под редакцией Harrison, R., "Lightweight Directory Access Protocol (LDAP): Методы аутентификации и механизмы обеспечения безопасности", <a href="rfc4513.html">RFC 4513</a>, июнь 2006 г.</p>

<p>[<a name="ref-RFC4514" id="ref-RFC4514">RFC4514</a>] Под редакцией Zeilenga, K., "Lightweight Directory Access Protocol (LDAP): Строковое представление уникальных имён", <a href="rfc4514.html">RFC 4514</a>, июнь 2006 г.</p>

<p>[<a name="ref-RFC4515" id="ref-RFC4515">RFC4515</a>] Под редакцией Smith, M. и T. Howes, "Lightweight Directory Access Protocol (LDAP): Строковое представление поисковых фильтров", <a href="rfc4515.html">RFC 4515</a>, июнь 2006 г.</p>

<p>[<a name="ref-RFC4516" id="ref-RFC4516">RFC4516</a>] Под редакцией Smith, M. и T. Howes, "Lightweight Directory Access Protocol (LDAP): Единый указатель ресурса (URL)", <a href="rfc4516.html">RFC 4516</a>, июнь 2006 г.</p>

<p>[<a name="ref-RFC4517" id="ref-RFC4517">RFC4517</a>] Под редакцией Legg, S., "Lightweight Directory Access Protocol (LDAP): Синтаксисы и правила соответствия", <a href="rfc4517.html">RFC 4517</a>, июнь 2006 г.</p>

<p>[<a name="ref-RFC4519" id="ref-RFC4519">RFC4519</a>] Под редакцией Sciberras, A., "Lightweight Directory Access Protocol (LDAP): Схема данных для пользовательских приложений", <a href="rfc4519.html">RFC 4519</a>, июнь 2006 г.</p>

<p>[<a name="ref-RFC4520" id="ref-RFC4520">RFC4520</a>] Zeilenga, K., "Соглашения Internet Assigned Numbers Authority (IANA) о Lightweight Directory Access Protocol (LDAP)", <a href="http://tools.ietf.org/html/rfc4520">BCP 64</a>, <a href="http://tools.ietf.org/html/rfc4520">RFC 4520</a>, июнь 2006 г.</p>

<p>[<a name="ref-Unicode" id="ref-Unicode">Unicode</a>] The Unicode Consortium, "The Unicode Standard, Version 3.2.0", определён в "The Unicode Standard, Version 3.0" (Reading, MA, Addison-Wesley, 2000. ISBN 0-201-61633-5), с поправками, внесенными в "Unicode Standard Annex #27: Unicode 3.1" (<a href="http://www.unicode.org/reports/tr27/">http://www.unicode.org/reports/tr27/</a>) и в "Unicode Standard Annex #28: Unicode 3.2" (<a href="http://www.unicode.org/reports/tr28/">http://www.unicode.org/reports/tr28/</a>).</p>

<p>[<a name="ref-X.500" id="ref-X.500">X.500</a>] International Telecommunication Union - Telecommunication Standardization Sector, "The Directory: Overview of concepts, models and  services", X.500(1993) (он же ISO/IEC 9594-1:1994).</p>

<p>[<a name="ref-X.501" id="ref-X.501">X.501</a>] International Telecommunication Union - Telecommunication Standardization Sector, "The Directory: Models", X.501(1993) (он же ISO/IEC 9594-2:1994).</p>

<p>[<a name="ref-X.680" id="ref-X.680">X.680</a>] International Telecommunication Union - Telecommunication Standardization Sector, "Abstract Syntax Notation One (ASN.1) - Specification of Basic Notation", X.680(2002) (он же ISO/IEC 8824-1:2002).</p>

<h2><a name="appendix-A">Приложение A. Изменения</a></h2>

<p>Это приложение не является нормативным.</p>

<p>Этот документ состоит из практически неизменённых частей <a href="http://tools.ietf.org/html/rfc2251">RFC 2251</a>, <a href="http://tools.ietf.org/html/rfc2252">RFC 2252</a> и <a href="http://tools.ietf.org/html/rfc2256">RFC 2256</a>. Такая компоновка была предпринята для повышения общей ясности технической спецификации. В этом приложении приводится обзор основных изменений, внесённых во включённые в этот документ части перечисленных документов. Обзор оставшихся частей перечисленных документов смотрите в [<a href="rfc4510.html" title="LDAP: Путеводитель по технической спецификации">RFC4510</a>], [<a href="rfc4511.html" title="LDAP: Определение протокола">RFC4511</a>], [<a href="rfc4517.html" title="LDAP: Синтаксисы и правила соответствия">RFC4517</a>] и [<a href="rfc4519.html" title="LDAP: Схема данных для пользовательских приложений">RFC4519</a>].</p>

<h3><a name="appendix-A.1">A.1</a>. Изменения, внесённые в RFC 2251</h3>

<p>В этот документ включены разделы <a href="http://tools.ietf.org/html/rfc2251#section-3.2">3.2</a> и <a href="http://tools.ietf.org/html/rfc2251#section-3.4">3.4</a>, а также части разделов <a href="http://tools.ietf.org/html/rfc2251#section-4">4</a> и <a href="http://tools.ietf.org/html/rfc2251#section-6">6</a> <a href="http://tools.ietf.org/html/rfc2251">RFC 2251</a>, как описано ниже.</p>

<h4><a name="appendix-A.1.1">A.1.1</a>. Раздел 3.2 RFC 2251</h4>

<p>В <a href="http://tools.ietf.org/html/rfc2251#section-3.2">разделе 3.2 RFC 2251</a> было представлено краткое введение в модель данных X.500 с точки зрения ее использования в LDAP. Предыдущая спецификация опиралась на [<a href="#ref-X.501" title="The Directory: Models">X.501</a>], но не хватало ясности в том, как модели X.500 адаптированы для использования в LDAP. Этот документ описывает модели данных X.500, с точки зрения их использования в LDAP, более детально, особенно в тех областях, где требуется адаптация.</p>

<p>В <a href="http://tools.ietf.org/html/rfc2251#section-3.2.1">разделе 3.2.1 RFC 2251</a> атрибут определялся как "тип с одним или несколькими ассоциированными значениями". В LDAP атрибут определён более точно как описание атрибута, то есть тип с одной или несколькими опциями и с одним или несколькими ассоциированными значениями.</p>

<p>В <a href="http://tools.ietf.org/html/rfc2251#section-3.2.2">разделе 3.2.2 RFC 2251</a> выдвигалось требование, что подзаписи подсхемы должны содержать атрибуты objectClasses и attributeTypes, а в X.500(93) эти атрибуты определяются как необязательные. Хотя практически все реализации, поддерживающие механизмы подсхемы X.500(93), будут предоставлять оба эти атрибута, для обеспечения функциональной совместимости со стандартом X.500(93) требование о поддержке этих атрибутов всеми серверами не должно быть абсолютным. Итак, это требование было снято для соответствия со стандартом X.500(93). Кроме того, был уточнён механизм изучения подсхемы: управляющая записью подсхема может быть получена путём чтения (под)записи, на которую указывает значение атрибута 'subschemaSubentry' исходной записи.</p>

<h4><a name="appendix-A.1.2">A.1.2</a>. Раздел 3.4 RFC 2251</h4>

<p>В <a href="http://tools.ietf.org/html/rfc2251#section-3.4">разделе 3.4 RFC 2251</a> были даны "Требования к специфичной для сервера информации". Этот материал, с изменениями, был включён в <a href="#section-5.1">раздел 5.1</a> этого документа.</p>

<p>Изменения:</p>
<ul>
<li>Уточнено, что на атрибуты корневой DSE распространяются "другие ограничения", кроме контроля доступа.</li>
<li>Уточнено, что в атрибуте 'supportedExtension' нужно перечислять только распознаваемые сервером расширенные запросы.</li>
<li>Уточнено, что в атрибуте 'supportedControl' нужно перечислять только распознаваемые сервером элементы управления запроса.</li>
<li>Уточнено, что атрибуты корневой DSE являются операционными, и, как и другие операционные атрибуты, не должны возвращаться в ответ на поисковый запрос, если они не были запрошены явно по имени.</li>
<li>Уточнено, что не все атрибуты корневой DSE доступны для изменения пользователям.</li>
<li>Удалён противоречивый текст относительно обработки атрибута 'subschemaSubentry' в корневой DSE. В предыдущей спецификации утверждалось, что содержащийся в корневой DSE атрибут 'subschemaSubentry' указывает на "записи (или подзаписи) подсхемы, известные данному серверу". Это противоречит предполагаемому использованию данного атрибута, а также его формальному определению как атрибута с единичным значением [<a href="#ref-X.501" title="The Directory: Models">X.501</a>]. Также отмечалось, что простой (и возможно неполный) список (под)записей подсхемы не особенно полезен. В этом документе (<a href="#section-5.1">раздел 5.1</a>) определяется, что атрибут 'subschemaSubentry' корневой DSE указывает на подсхему, управляющую корневой DSE. Отмечено, что общий механизм изучения подсхемы (смотрите <a href="#section-4.4">раздел 4.4</a> этого документа) распространяется и на подсхему корневой DSE.</li>
</ul>
<h4><a name="appendix-A.1.3">A.1.3</a>. Раздел 4 RFC 2251</h4>

<p>Части <a href="http://tools.ietf.org/html/rfc2251#section-4">раздела 4 RFC 2251</a>, касающиеся аспектов используемой в LDAP информационной модели, включены в этот документ, в том числе:</p>
<ul>
<li>Ограничение на то, что в качестве отличительных значений могут использоваться лишь атрибуты, в описании которых нет опций (из <a href="http://tools.ietf.org/html/rfc2251#section-4.1.3">раздела 4.1.3</a>);</li>
<li>Аспекты модели данных, касающиеся типов атрибутов (из <a href="http://tools.ietf.org/html/rfc2251#section-4.1.4">раздела 4.1.4</a>), описаний атрибутов (из <a href="http://tools.ietf.org/html/rfc2251#section-4.1.5">раздела 4.1.5</a>), атрибутов (из <a href="http://tools.ietf.org/html/rfc2251#section-4.1.8">раздела 4.1.8</a>),  идентификаторов правил соответствия (из <a href="http://tools.ietf.org/html/rfc2251#section-4.1.9">раздела 4.1.9</a>); и</li>
<li>Требования пользовательской схемы данных (из разделов <a href="http://tools.ietf.org/html/rfc2251#section-4.1.6">4.1.6</a>, <a href="http://tools.ietf.org/html/rfc2251#section-4.5.1">4.5.1</a> и <a href="http://tools.ietf.org/html/rfc2251#section-4.7">4.7</a>).</li>
</ul>

<p>Уточнения этих частей:</p>
<ul>
<li>Подтипы и описания атрибутов с опциями.</li>
</ul>
<h4><a name="appendix-A.1.4">A.1.4</a>. Раздел 6 RFC 2251</h4>

<p>В этот документ включены <a href="http://tools.ietf.org/html/rfc2251#section-6.1">раздел 6.1</a> и второй параграф <a href="http://tools.ietf.org/html/rfc2251#section-6.2">раздела 6.2</a> <a href="http://tools.ietf.org/html/rfc2251">RFC 2251</a>.</p>

<h3><a name="appendix-A.2">A.2</a>. Изменения, внесённые в RFC 2252</h3>

<p>В этот документ включены разделы <a href="http://tools.ietf.org/html/rfc2252#section-4">4</a>, <a href="http://tools.ietf.org/html/rfc2252#section-5">5</a> и <a href="http://tools.ietf.org/html/rfc2252#section-7">7</a> <a href="http://tools.ietf.org/html/rfc2252">RFC 2252</a>.</p>

<h4><a name="appendix-A.2.1">A.2.1</a>. Раздел 4 RFC 2252</h4>

<p>Спецификация была обновлена: используется расширенная форма Бэкуса-Наура (Augmented BNF, ABNF) [<a href="http://tools.ietf.org/html/rfc4234" title="Augmented BNF for Syntax Specifications: ABNF">RFC4234</a>]. Строковое представление идентификатора объекта было ограничено: запрещены начальные нули, как описано в <a href="http://tools.ietf.org/html/rfc2252">RFC 2252</a>.</p>

<p>Синтаксис &lt;descr&gt; был изменён: запрещён символ точки с запятой (U+003B) для соответствия с описательной спецификацией "descr&thinsp;&mdash;&thinsp;это синтаксическое представление дескриптора объекта, состоящее из букв и цифр, начинающееся с буквы". Связанное с этим изменение: утверждение "AttributeDescription может быть использовано в качестве значения в части NAME конструкции AttributeTypeDescription" было удалено. В <a href="http://tools.ietf.org/html/rfc2252">RFC 2252</a> не дана спецификация семантики опций атрибута, которые могут присутствовать в полях NAME.</p>

<p>В <a href="http://tools.ietf.org/html/rfc2252">RFC 2252</a> утверждалось, что форма &lt;descr&gt; &lt;oid&gt; должна (SHOULD) быть предпочтительнее формы &lt;numericoid&gt;. Однако, форма &lt;descr&gt; может быть неоднозначной. Для решения этой проблемы это утверждение было заменено (в <a href="#section-1.4">разделе 1.4</a>): хотя форма &lt;descr&gt; в общем случае предпочтительнее, в тех случаях, когда &lt;descr&gt; не обеспечивает однозначность, следует использовать  &lt;numericoid&gt;. В дополнение к этому, в <a href="#section-6.2">разделе 6.2</a> ("Короткие имена") предоставлено расширенное обсуждение вопросов дескрипторов.</p>

<p>Была обновлена ABNF для экранированной строки (qdstring): отражена поддержка механизма экранирования, описанного в <a href="http://tools.ietf.org/html/rfc2252#section-4.3">разделе 4.3 RFC 2252</a>.</p>

<h4><a name="appendix-A.2.2">A.2.2</a>. Раздел 5 RFC 2252</h4>

<p>В этот документ включены определения операционных атрибутов, данные в <a href="http://tools.ietf.org/html/rfc2252#section-5">разделе 5 RFC 2252</a>.</p>

<p>Уточнено описание 'namingContexts'. DSA первого уровня должны публиковать <strong>""</strong> (пустую строку) в дополнение к другим значениям, отражая тем самым корень DIT.</p>

<p>Уточнено описание 'altServer'. В этом атрибуте могут содержаться любые URI.</p>

<p>Уточнено описание 'supportedExtension'. Серверу необходимо перечислять только идентификаторы объектов расширенных запросов тех расширенных операций, которые он распознаёт.</p>

<p>Уточнено описание 'supportedControl'. Серверу необходимо перечислять только идентификаторы объектов элементов управления запроса, которые он распознаёт. Добавлены описания типов операционных атрибутов 'structuralObjectClass' и 'governingStructureRule'.</p>

<p>Откорректировано определение атрибута 'subschemaSubentry': поля SINGLE-VALUE и NO-USER-MODIFICATION перечислены в правильном порядке.</p>

<h4><a name="appendix-A.2.3">A.2.3</a>. Раздел 7 RFC 2252</h4>

<p>В <a href="http://tools.ietf.org/html/rfc2252#section-7">разделе 7 RFC 2252</a> были даны определения объектных классов 'subschema' и 'extensibleObject'. Эти определения были интегрированы в разделы <a href="#section-4.2">4.2</a> и <a href="#section-4.3">4.3</a> этого документа, соответственно. Также в <a href="http://tools.ietf.org/html/rfc2252#section-7">разделе 7 RFC 2252</a> содержались требования к реализации объектных классов. Они включены в <a href="#section-7">раздел 7</a> этого документа.</p>

<p>Уточнена спецификация 'extensibleObject' в том, как этот объектный класс взаимодействует с исключёнными атрибутами.</p>

<h3><a name="appendix-A.3">A.3</a>. Изменения, внесённые в RFC 2256</h3>

<p>В этот документ включены разделы <a href="http://tools.ietf.org/html/rfc2256#section-5.1">5.1</a>, <a href="http://tools.ietf.org/html/rfc2256#section-5.2">5.2</a>, <a href="http://tools.ietf.org/html/rfc2256#section-7.1">7.1</a> и <a href="http://tools.ietf.org/html/rfc2256#section-7.2">7.2</a> <a href="http://tools.ietf.org/html/rfc2256">RFC 2256</a>.</p>

<p>В <a href="http://tools.ietf.org/html/rfc2256#section-5.1">разделе 5.1 RFC 2256</a> было дано определение типа атрибута 'objectClass'. Оно было интегрировано в <a href="#section-2.4.1">раздел 2.4.1</a> этого документа. Утверждение "одно из значений&thinsp;&mdash;&thinsp;это либо 'top', либо 'alias'" заменено на утверждение, что одно из значений&thinsp;&mdash;&thinsp;это 'top', поскольку запись, принадлежащая к классу 'alias', также принадлежит к классу 'top'.</p>

<p>В <a href="http://tools.ietf.org/html/rfc2256#section-5.2">разделе 5.2 RFC 2256</a> было дано определение типа атрибута 'aliasedObjectName'. Оно было интегрировано в <a href="#section-2.6.2">раздел 2.6.2</a> этого документа.</p>

<p>В <a href="http://tools.ietf.org/html/rfc2256#section-7.1">разделе 7.1 RFC 2256</a> было дано определение объектного класса 'top'. Оно было интегрировано в <a href="#section-2.4.1">раздел 2.4.1</a> этого документа.</p>

<p>В <a href="http://tools.ietf.org/html/rfc2256#section-7.2">разделе 7.2 RFC 2256</a> было дано определение объектного класса 'alias'. Оно было интегрировано в <a href="#section-2.6.1">раздел 2.6.1</a> этого документа.</p>

<h3><a name="appendix-A.4">A.4</a>. Изменения, внесённые в RFC 3674</h3>

<p>В этот документ без существенных изменений включена техническая спецификация 'supportedFeatures', данная в <a href="http://tools.ietf.org/html/rfc3674">RFC 3674</a>.</p>

<h2>Адрес редактора</h2>
<p>Kurt D.  Zeilenga</p>
<p>OpenLDAP Foundation</p>
<p>EMail: Kurt@OpenLDAP.org</p>

<h2>Полное заявление авторских прав</h2>

<p>Copyright (C) Internet Society (2006).</p>

<p>На этот документ распространяются права, лицензии и ограничения, содержащиеся в <a href="http://tools.ietf.org/html/bcp78">BCP 78</a>, и, за исключением случаев, изложенных в нем, авторы сохраняют все свои права.</p>

<p>Этот документ и содержащаяся в нём информация распространяются "КАК ЕСТЬ" и АВТОР ДОКУМЕНТА, ОРГАНИЗАЦИЯ, КОТОРУЮ ОН/ОНА ПРЕДСТАВЛЯЕТ, ИЛИ КОТОРОЙ ОН/ОНА СПОНСИРУЕТСЯ (ЕСЛИ ТАКОВЫЕ ИМЕЮТСЯ), INTERNET SOCIETY И INTERNET ENGINEERING TASK FORCE ОТКАЗЫВАЮТСЯ ОТ ВСЕХ ГАРАНТИЙ, ЯВНЫХ ИЛИ ПОДРАЗУМЕВАЕМЫХ, ВКЛЮЧАЯ, ПОМИМО ПРОЧЕГО, ЛЮБЫЕ ГАРАНТИИ ТОГО, ЧТО ИСПОЛЬЗОВАНИЕ ПРИВЕДЁННОЙ ЗДЕСЬ ИНФОРМАЦИИ НЕ НАРУШАЕТ КАКИХ-ЛИБО ПРАВ ИЛИ ЛЮБЫЕ ПОДРАЗУМЕВАЕМЫЕ ГАРАНТИИ ПРИГОДНОСТИ ДЛЯ КОНКРЕТНЫХ ЦЕЛЕЙ.</p>

<h2>Интеллектуальная собственность</h2>

<p>IETF не занимает никакой позиции относительно действительности или области действия каких-либо прав на интеллектуальную собственность, или других прав, которые могут заявляться как относящиеся к реализации или использованию технологий, описанных в данном документе, либо в подтверждении которых могут или не могут быть доступны какие-либо лицензии; кроме того, IETF не заявляет о том, что она будет предпринимать какие-либо независимые усилия по выявлению подобных прав. Информацию по процедурам в отношении прав в документах RFC можно найти в <a href="http://tools.ietf.org/html/bcp78">BCP 78</a> и <a href="http://tools.ietf.org/html/bcp79">BCP 79</a>.</p>

<p>Копии поданных в секретариат IETF заявлений о правах на интеллектуальную собственность (Intellectual Property Rights, IPR), а также какие-либо документы, подтверждающие лицензию и предназначенные для предоставления доступа к ним, либо результаты попыток получения генеральных лицензий или разрешений на пользование подобными правами собственности могут быть получены теми, кто занимается реализацией, или пользователями данной спецификации из он-лайн репозитория IPR IETF по адресу <a href="http://www.ietf.org/ipr">http://www.ietf.org/ipr</a>.</p>

<p>IETF просит всех заинтересованных лиц довести до её сведения любые авторские права, патенты или патентные заявки, либо другие права собственности, которые могут касаться технологий данного стандарта и могут потребоваться для его реализации. Пожалуйста, направляйте информацию в IETF по адресу ietf-ipr@ietf.org.</p>

<h2>Признание заслуг</h2>

<p>Финансирование функций RFC Editor обеспечивается IETF Administrative Support Activity (IASA).</p>

<p class="desc">Перевод выполнен участниками проекта <a href="http://pro-ldap.ru">Pro-LDAP.ru</a>. Предложения по улучшению перевода и сообщения об ошибках принимаются на <a href="http://pro-ldap.ru/forum/index.php?topic=40.0">форуме проекта</a>.</p>
</body></html>
